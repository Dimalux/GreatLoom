import{S as I,N,P as S,K as $}from"./assets/vendor-DWuSwSg-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const E of s.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&n(E)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();const k="https://books-backend.p.goit.global",y={categories:`${k}/books/category-list`,topBooks:`${k}/books/top-books`,booksByCategory:`${k}/books/category`,bookDetails:`${k}/books`},f=[{_id:"1",title:"I will find you",author:"Harlan Coben",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/be59079c942166f40b9f9b8ca0c95c9b0dd376cd?width=454",list_name:"Combined Print and E-book Fiction",description:"A gripping thriller from bestselling author Harlan Coben.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"2",title:"Hello Beautiful",author:"Ann Napolitano",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/19b4f0571fe7d229818636954191ba15ff05696e?width=454",list_name:"Combined Print and E-book Fiction",description:"A beautiful story about family, love, and resilience.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"3",title:"It starts with us",author:"Colleen Hoover",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/001f2a76a1b4620d1fb977b29164da216a346da5?width=454",list_name:"Combined Print and E-book Fiction",description:"The sequel to the bestselling romance novel.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"4",title:"Daisy Jones & The Six",author:"Taylor Jenkins Reid",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/9f8788ef7427aac176befc2418495a850e31f227?width=454",list_name:"Combined Print and E-book Fiction",description:"A novel about a rock band's rise to fame in the 1970s.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"5",title:"Saver",author:"Benjamin Hall",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/98d2449870ec58a16c70ac2ab8a312374e6dcc62?width=454",list_name:"Combined Print & E-book Nonfiction",description:"A non-fiction book about financial management and saving.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"6",title:"Spare",author:"Prince Harry",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/84191fe427cba5940c78d3b0b66c500d4f85379f?width=454",list_name:"Combined Print & E-book Nonfiction",description:"Prince Harry's memoir about his life and experiences.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"7",title:"Paris The Memoir",author:"Paris Hilton",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/fddd368da72ad14deca914c44fc8fdc26589fe53?width=454",list_name:"Combined Print & E-book Nonfiction",description:"Paris Hilton's personal memoir and life story.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"8",title:"The Courage to Be Free",author:"Ron DeSantis",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/95f91ea1698f095cdea11e73b64d9deedb74e1f1?width=454",list_name:"Combined Print & E-book Nonfiction",description:"Political memoir and vision for America's future.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"9",title:"The body keeps the score",author:"Bessel van der Kolk",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/eb7283e734ea5c1a3e973593a98c1fb950720617?width=454",list_name:"Advice How-To and Miscellaneous",description:"A groundbreaking book about trauma and recovery.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"10",title:"Lessons in chemistry",author:"Bonnie Garmus",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/de8e5256a092a75663a70ebad4f598d410a983d3?width=454",list_name:"Combined Print and E-book Fiction",description:"A novel about a female chemist in the 1960s.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"11",title:"Tomorrow and Tomorrow and Tomorrow",author:"Gabrielle Zevin",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/6c211f6ed1a913f6387ae2258abf662c77e44cc2?width=454",list_name:"Combined Print and E-book Fiction",description:"A novel about friendship and gaming.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"12",title:"I'm Glad My Mom Died",author:"Jennette McCurdy",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/9f6aea0fcc830497d46221f2aa67d6216f846a98?width=454",list_name:"Combined Print & E-book Nonfiction",description:"A powerful memoir about childhood stardom and family.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"13",title:"The Seven Moons of Maali Almeida",author:"Shehan Karunatilaka",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/ea9008b04bd05c29b9958daf4cab7d5d8363b333?width=454",list_name:"Combined Print and E-book Fiction",description:"A darkly funny afterlife adventure.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"14",title:"The Atlas Six",author:"Olivie Blake",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/09192c2b149378095a3df5dfdd9d768107deffe1?width=454",list_name:"Combined Print and E-book Fiction",description:"A dark academic fantasy about six magicians.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"15",title:"Educated",author:"Tara Westover",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/05b647891df90004e53febfd626d7677f5b8bffd?width=454",list_name:"Combined Print & E-book Nonfiction",description:"A memoir about education and family.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"16",title:"The Thursday Murder Club",author:"Richard Osman",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/85daae4642e37eb4d924fecc884c822a5cae8aa7?width=454",list_name:"Combined Print and E-book Fiction",description:"A cozy mystery set in a retirement village.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"17",title:"Atomic Habits",author:"James Clear",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/7fb7e96835fecf1cb69394d3ef0630de77546b8d?width=454",list_name:"Advice How-To and Miscellaneous",description:"A guide to building good habits and breaking bad ones.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"18",title:"The Midnight Library",author:"Matt Haig",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/73d0b49530ac0a63445a67445297dd6a2a3d3329?width=454",list_name:"Combined Print and E-book Fiction",description:"A novel about life's infinite possibilities.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"19",title:"Becoming",author:"Michelle Obama",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/9f6aea0fcc830497d46221f2aa67d6216f846a98?width=454",list_name:"Combined Print & E-book Nonfiction",description:"The former First Lady's powerful memoir.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"20",title:"Where the Forest Meets the Stars",author:"Glendy Vanderah",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/23d519246fd0211e2aa3678be56181200ab72505?width=454",list_name:"Combined Print and E-book Fiction",description:"A heartwarming story about healing and hope.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"21",title:"The Guest List",author:"Lucy Foley",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/4e88e224f5b21410964eeec848d75a9b2c5afcd6?width=454",list_name:"Combined Print and E-book Fiction",description:"A psychological thriller set at a wedding.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"22",title:"Sapiens",author:"Yuval Noah Harari",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/52c3113b5cea70eef0a1226e0a9f66d7e0e7a026?width=454",list_name:"Combined Print & E-book Nonfiction",description:"A brief history of humankind.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"23",title:"The Silent Patient",author:"Alex Michaelides",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/09b246cfd4ba727da8dd9a33b57fce06cf2c41bc?width=454",list_name:"Combined Print and E-book Fiction",description:"A psychological thriller about a woman who refuses to speak.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"24",title:"The Power of Now",author:"Eckhart Tolle",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/e5d41e744e86169ba86dd2394676e58bcf728f24?width=454",list_name:"Advice How-To and Miscellaneous",description:"A guide to spiritual enlightenment.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"25",title:"Little Fires Everywhere",author:"Celeste Ng",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/be59079c942166f40b9f9b8ca0c95c9b0dd376cd?width=454",list_name:"Combined Print and E-book Fiction",description:"A novel about family secrets and community tensions.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"26",title:"Untamed",author:"Glennon Doyle",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/19b4f0571fe7d229818636954191ba15ff05696e?width=454",list_name:"Combined Print & E-book Nonfiction",description:"A memoir about breaking free from expectations.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"27",title:"The Vanishing Half",author:"Brit Bennett",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/001f2a76a1b4620d1fb977b29164da216a346da5?width=454",list_name:"Combined Print and E-book Fiction",description:"A novel about identity and family secrets.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]},{_id:"28",title:"Born a Crime",author:"Trevor Noah",book_image:"https://cdn.builder.io/api/v1/image/assets/TEMP/9f8788ef7427aac176befc2418495a850e31f227?width=454",list_name:"Combined Print & E-book Nonfiction",description:"A memoir about growing up in South Africa.",buy_links:[{name:"Amazon",url:"https://amazon.com"}]}],T=[{name:"Combined Print and E-book Fiction",displayName:"Combined Print and E-book Fiction"},{name:"Combined Print & E-book Nonfiction",displayName:"Combined Print & E-book Nonfiction"},{name:"Hardcover Fiction",displayName:"Hardcover Fiction"},{name:"Paperback Trade Fiction",displayName:"Paperback Trade Fiction"},{name:"Paperback Nonfiction",displayName:"Paperback Nonfiction"},{name:"Advice How-To and Miscellaneous",displayName:"Advice, How-To and Miscellaneous"},{name:"Children's Middle Grade Hardcover",displayName:"Children's Middle Grade Hardcover"}];let c="all",u=window.innerWidth<=768?10:24,H=4,d=[],p=T,b=!1,l=!1;function P(){return window.innerWidth<=768?10:24}const w=document.getElementById("book-list"),h=document.getElementById("show-more-btn"),F=document.getElementById("showing-count"),R=document.getElementById("total-count");document.querySelectorAll(".category-btn");const r=document.getElementById("modal-overlay"),_=document.getElementById("modal-close"),m=document.getElementById("modal-content");o("Modal elements check:",{modalOverlay:!!r,modalClose:!!_,modalContent:!!m});(!r||!_||!m)&&o("ERROR: Missing modal elements!",{modalOverlay:!!r,modalClose:!!_,modalContent:!!m});function o(e,t=null){console.log(`[Books App Debug] ${e}`,t||"")}async function A(e,t=15e3){o(`Fetching data from: ${e}`);try{const i=await fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}});if(o(`Response status: ${i.status}`),!i.ok)throw new Error(`HTTP error! status: ${i.status} - ${i.statusText}`);const n=await i.json();return o("Received data successfully:",n),n}catch(i){throw o(`Primary fetch failed: ${i.message}`),i.name==="TypeError"&&(i.message.includes("fetch")||i.message.includes("Failed to fetch"))?(o("Network/CORS error detected - API unreachable"),new Error("API_UNREACHABLE")):i.message.includes("CORS")?(o("CORS error detected"),new Error("CORS_ERROR")):new Error(`API_ERROR: ${i.message}`)}}async function O(){try{o("Fetching categories...");const e=await A(y.categories);if(Array.isArray(e)&&e.length>0)return p=e.map(t=>({name:t.list_name,displayName:t.list_name})),o("Categories loaded from API:",p),l=!1,p;throw o("Invalid categories data structure, using backup"),new Error("Invalid categories data structure")}catch(e){return o("Categories API failed, using backup data:",e.message),(e.message.includes("API_UNREACHABLE")||e.message.includes("CORS_ERROR"))&&o("API server unreachable or CORS blocked - using offline data"),p=T,l=!0,p}}async function q(){try{o("Fetching top books...");const e=await A(y.topBooks);if(Array.isArray(e)&&e.length>0){let t=[];if(e.forEach(i=>{i.books&&Array.isArray(i.books)&&(t=t.concat(i.books.map(n=>({_id:n._id,title:n.title,author:n.author,book_image:n.book_image,list_name:i.list_name,description:n.description||"",buy_links:n.buy_links||[]}))))}),t.length>0)return o(`Loaded ${t.length} top books from API`),l=!1,t;throw o("No books found in API response, using backup"),new Error("No books found in top books response")}else throw o("Invalid API response structure, using backup"),new Error("Invalid top books data structure")}catch(e){return o("Top books API failed, using backup data:",e.message),l=!0,f}}async function D(e){try{o(`Fetching books for category: ${e}`);const t=`${y.booksByCategory}?category=${encodeURIComponent(e)}`,i=await A(t);if(Array.isArray(i)&&i.length>0){const n=i.map(a=>({_id:a._id,title:a.title,author:a.author,book_image:a.book_image,list_name:e,description:a.description||"",buy_links:a.buy_links||[]}));return o(`Loaded ${n.length} books for category ${e}`),n}else throw new Error("No books found for category")}catch(t){return o(`Category books API failed for ${e}, using filtered backup data:`,t.message),f.filter(i=>i.list_name===e)}}async function U(e){try{o(`Fetching details for book: ${e}`);const t=`${y.bookDetails}/${e}`,i=await A(t);if(i&&i._id)return o("Book details loaded from API:",i),i;throw new Error("Invalid book details data")}catch(t){return o(`Book details API failed for ${e}, using backup data:`,t.message),d.find(i=>i._id===e)||f.find(i=>i._id===e)||null}}function W(e){return`
    <li class="book-item">
        <img
            class="book-image"
            src="${e.book_image||"https://via.placeholder.com/227x323?text=No+Image"}"
            alt="${e.title} by ${e.author}"
            loading="lazy"
            onerror="this.src='https://via.placeholder.com/227x323?text=No+Image'"
        />
        <div class="book-content">
            <div class="book-header">
                <div class="book-info">
                    <h3 class="book-title">${e.title}</h3>
                    <p class="book-author">${e.author}</p>
                </div>
                <div class="book-price">Check Price</div>
            </div>
            <button class="learn-more-btn" onclick="handleLearnMore('${e._id}')">
                Learn More
            </button>
        </div>
    </li>
  `}function j(){return`
    <li class="book-item">
      <div class="book-image" style="background: #e0e0e0; animation: pulse 1.5s ease-in-out infinite;"></div>
      <div class="book-content">
        <div class="book-header">
          <div class="book-info">
            <div style="height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 8px; animation: pulse 1.5s ease-in-out infinite;"></div>
            <div style="height: 16px; background: #e0e0e0; border-radius: 4px; width: 70%; animation: pulse 1.5s ease-in-out infinite;"></div>
          </div>
          <div style="height: 24px; background: #e0e0e0; border-radius: 4px; width: 60px; animation: pulse 1.5s ease-in-out infinite;"></div>
        </div>
        <div style="height: 40px; background: #e0e0e0; border-radius: 4px; animation: pulse 1.5s ease-in-out infinite;"></div>
      </div>
    </li>
  `}function L(){return c==="all"?d:d.filter(e=>e.list_name===c)}function K(){b=!0;const e=window.innerWidth<=768?10:24;w.innerHTML=Array(e).fill(j()).join(""),h.disabled=!0,o("Showing loading state")}function g(){if(b){o("Still loading, skipping render");return}const e=L(),t=e.slice(0,u);o(`Rendering ${t.length} books out of ${e.length} total`),t.length===0?w.innerHTML='<li style="grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;">No books found for this category.</li>':w.innerHTML=t.map(i=>W(i)).join(""),F.textContent=t.length,R.textContent=e.length,t.length>=e.length?h.classList.add("hidden"):h.classList.remove("hidden"),h.disabled=!1}async function M(){o(`Loading books for category: ${c}`),K();try{if(c==="all"?d=await q():d=await D(c),d.length===0)throw new Error("No books loaded");b=!1,o(`Successfully loaded ${d.length} books`),g()}catch(e){o("Error loading books:",e.message),b=!1,l?(w.innerHTML='<li style="grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;">Unable to load books. Please check your internet connection and try again.</li>',h.classList.add("hidden")):(o("Attempting to use backup data"),d=c==="all"?f:f.filter(t=>t.list_name===c),l=!0,g())}}async function G(){try{o("Updating categories in sidebar");const e=await O(),t=document.querySelector(".categories");if(!t){o("Categories container not found");return}const i=`
      <li><button class="category-btn active" data-category="all">All categories</button></li>
      ${e.map(a=>`<li><button class="category-btn" data-category="${a.name}">${a.displayName}</button></li>`).join("")}
    `;t.innerHTML=i,o("Categories updated in sidebar"),document.querySelectorAll(".category-btn").forEach(a=>{a.addEventListener("click",()=>{x(a.dataset.category)})})}catch(e){o("Error updating categories:",e.message)}}async function x(e){if(b){o("Already loading, ignoring category selection");return}o(`Category selected: ${e}`),c=e,u=P(),document.querySelectorAll(".category-btn").forEach(t=>{t.classList.remove("active"),t.dataset.category===e&&t.classList.add("active")}),await M()}function V(){if(b)return;const e=L();u=Math.min(u+H,e.length),o(`Show more clicked, now showing ${u} books`),g()}async function z(e){try{if(o(`Learn more clicked for book: ${e}`),!r||!m){o("Modal elements not found!");return}m.innerHTML='<div style="text-align: center; padding: 40px; color: #0b0500;">Loading book details...</div>',r.classList.add("active"),r.setAttribute("aria-hidden","false"),document.body.style.overflow="hidden";const t=await U(e);t?J(t):m.innerHTML='<div style="text-align: center; padding: 40px; color: #0b0500;">Error loading book details.</div>'}catch(t){o("Error loading book details:",t.message),m.innerHTML='<div style="text-align: center; padding: 40px; color: #0b0500;">Error loading book details.</div>'}}window.handleLearnMore=z;function J(e){e.buy_links&&e.buy_links.length>0&&e.buy_links.map(t=>`<a href="${t.url}" target="_blank" rel="noopener noreferrer" style="color: #e15d05; margin-right: 12px;">${t.name}</a>`).join(""),m.innerHTML=`
    <img
      class="modal-book-image"
      src="${e.book_image||"https://via.placeholder.com/309x467?text=No+Image"}"
      alt="${e.title} by ${e.author}"
      onerror="this.src='https://via.placeholder.com/309x467?text=No+Image'"
    />
    <div class="modal-book-details">
      <div class="modal-product-info">
        <div class="modal-product-name">
          <h3 class="modal-book-title">${e.title}</h3>
          <p class="modal-book-author">${e.author}</p>
          <div class="modal-book-price">Check Price</div>
        </div>

        <div class="modal-form">
          <div class="modal-quantity">
            <button class="quantity-btn" onclick="changeQuantity(-1)">-</button>
            <input type="number" class="quantity-input" id="quantity" value="1" min="1" readonly>
            <button class="quantity-btn" onclick="changeQuantity(1)">+</button>
          </div>

          <div class="modal-cart-buttons">
            <button class="cart-btn primary" onclick="addToCart('${e._id}')">Add To Cart</button>
            <button class="cart-btn secondary" onclick="buyNow('${e._id}')">Buy Now</button>
          </div>
        </div>
      </div>

      <div class="modal-accordion">
        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <h4 class="accordion-title">Details</h4>
            <svg class="accordion-icon" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.6023 9.36791C11.822 9.14823 12.1781 9.14823 12.3978 9.36791L18.1326 15.1028C18.3523 15.3225 18.3523 15.6786 18.1326 15.8982L17.8674 16.1634C17.6478 16.3831 17.2916 16.3831 17.0719 16.1634L12 11.0915L6.92808 16.1634C6.7084 16.3831 6.3523 16.3831 6.13263 16.1634L5.86743 15.8982C5.64775 15.6786 5.64775 15.3225 5.86743 15.1028L11.6023 9.36791Z" fill="#0B0500"/>
            </svg>
          </div>
          <div class="accordion-content">
            ${e.description||"I Will Find You is a gripping thriller by the master of suspense, Harlan Coben. The story follows David Burroughs, a former prisoner wrongfully convicted of murdering his own son. When he discovers a clue suggesting his son might still be alive, David escapes from prison to uncover the truth. Fast-paced, emotional, and full of unexpected twists — this novel will keep you hooked until the very last page."}
          </div>
        </div>

        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <h4 class="accordion-title">Shipping</h4>
            <svg class="accordion-icon" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.6023 9.36784C11.822 9.14817 12.1781 9.14817 12.3978 9.36784L18.1326 15.1027C18.3523 15.3224 18.3523 15.6785 18.1326 15.8982L17.8674 16.1634C17.6478 16.383 17.2916 16.383 17.0719 16.1634L12 11.0914L6.92808 16.1634C6.7084 16.383 6.3523 16.383 6.13263 16.1634L5.86743 15.8982C5.64775 15.6785 5.64775 15.3224 5.86743 15.1027L11.6023 9.36784Z" fill="#0B0500"/>
            </svg>
          </div>
          <div class="accordion-content">
            We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.
          </div>
        </div>

        <div class="accordion-item">
          <div class="accordion-header" onclick="toggleAccordion(this)">
            <h4 class="accordion-title">Returns</h4>
            <svg class="accordion-icon" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.6023 9.36784C11.822 9.14817 12.1781 9.14817 12.3978 9.36784L18.1326 15.1027C18.3523 15.3224 18.3523 15.6785 18.1326 15.8982L17.8674 16.1634C17.6478 16.383 17.2916 16.383 17.0719 16.1634L12 11.0914L6.92808 16.1634C6.7084 16.383 6.3523 16.383 6.13263 16.1634L5.86743 15.8982C5.64775 15.6785 5.64775 15.3224 5.86743 15.1027L11.6023 9.36784Z" fill="#0B0500"/>
            </svg>
          </div>
          <div class="accordion-content">
            You can return an item within 14 days of receiving your order, provided it hasn't been used and is in its original condition. To start a return, please contact our support team — we'll guide you through the process quickly and hassle-free.
          </div>
        </div>
      </div>
    </div>
  `}function C(){r.classList.remove("active"),r.setAttribute("aria-hidden","true"),document.body.style.overflow=""}function Q(e){const t=document.getElementById("quantity");if(t){const i=parseInt(t.value)||1,n=Math.max(1,i+e);t.value=n}}function Z(e){var i;const t=((i=document.getElementById("quantity"))==null?void 0:i.value)||1;o(`Adding ${t} of book ${e} to cart`),alert(`Added ${t} book(s) to cart!`)}function Y(e){var i;const t=((i=document.getElementById("quantity"))==null?void 0:i.value)||1;o(`Buy now: ${t} of book ${e}`),alert(`Proceeding to checkout with ${t} book(s)!`)}function X(e){const t=e.nextElementSibling,i=e.querySelector(".accordion-icon");t&&i&&(t.classList.contains("active")?(t.classList.remove("active"),i.style.transform="rotate(0deg)"):(document.querySelectorAll(".accordion-content.active").forEach(n=>{var s;n.classList.remove("active");const a=(s=n.previousElementSibling)==null?void 0:s.querySelector(".accordion-icon");a&&(a.style.transform="rotate(0deg)")}),t.classList.add("active"),i.style.transform="rotate(180deg)"))}const B=document.createElement("style");B.textContent=`
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
`;document.head.appendChild(B);document.querySelectorAll(".category-btn").forEach(e=>{e.addEventListener("click",()=>{x(e.dataset.category)})});h.addEventListener("click",V);_.addEventListener("click",C);r.addEventListener("click",e=>{e.target===r&&C()});document.addEventListener("keydown",e=>{e.key==="Escape"&&r.classList.contains("active")&&C()});window.addEventListener("resize",()=>{const e=P(),t=window.innerWidth<=768?24:10;u===t&&(u=e,g())});function v(e){const t=document.querySelector(".count");if(t&&l){if(t.style.color="#e15d05",t.style.fontWeight="500",t.title="Using offline data - API server unavailable or blocked by CORS policy",!t.querySelector(".offline-indicator")){const i=document.createElement("span");i.className="offline-indicator",i.innerHTML=" 🔴",i.style.fontSize="12px",i.title="Offline mode",t.appendChild(i)}}else if(t){t.style.color="#0b0500",t.style.fontWeight="normal",t.title="Live data from API";const i=t.querySelector(".offline-indicator");if(i&&i.remove(),!t.querySelector(".online-indicator")){const n=document.createElement("span");n.className="online-indicator",n.innerHTML=" 🟢",n.style.fontSize="12px",n.title="Live data",t.appendChild(n),setTimeout(()=>{n.parentNode&&n.remove()},3e3)}}}async function ee(){try{o("Testing API connection...");const e=await fetch(y.categories,{method:"HEAD",mode:"cors"});return o("API connection test successful"),!0}catch(e){return o("API connection test failed:",e.message),!1}}document.addEventListener("DOMContentLoaded",async()=>{if(o("App initializing..."),window.handleLearnMore=z,window.changeQuantity=Q,window.addToCart=Z,window.buyNow=Y,window.toggleAccordion=X,d=f,l=!0,b=!1,u=P(),g(),v(),o("Initial render with backup data complete"),o("Testing API connection..."),!await ee()){o("API server unreachable - staying in offline mode"),v();const t=document.getElementById("book-list");if(t&&t.children.length>0){const i=document.createElement("div");i.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #e15d05;
        color: white;
        padding: 12px 16px;
        border-radius: 4px;
        font-size: 14px;
        z-index: 1000;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      `,i.textContent="Using offline data - API unavailable",document.body.appendChild(i),setTimeout(()=>{i.parentNode&&i.remove()},5e3)}return}o("API connection successful - loading real data..."),setTimeout(async()=>{try{await G(),await M(),v(!l),o("Real data loading complete")}catch(t){o("Real data loading failed:",t.message),v()}},100),o("App initialization complete")});const te=new I(".feedbacks .swiper",{modules:[N,S,$],slidesPerView:1,spaceBetween:24,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:3}},navigation:{nextEl:".feedbacks .swiper-button-next",prevEl:".feedbacks .swiper-button-prev"},pagination:{el:".feedbacks .swiper-pagination"},keyboard:{enabled:!0}});te.on("keyPress",(e,t)=>{t===9&&e.slideNext()});
//# sourceMappingURL=index.js.map
