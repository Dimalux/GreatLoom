{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/header.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/events.js","../src/js/modal-window.js"],"sourcesContent":["import axios from 'axios';\n\n\n// Базовий URL API\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\n\n\n // Запит на список категорій книг \n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}/category-list`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні категорій:', error);\n\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getCategoryList();\n\n\n\n\n// Запит на популярні книги (топ книг) \n\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}/top-books`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні топу книг:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getTopBooks()\n\n\n\n//  Запит на книги певної категорії\n \nexport async function getBooksByCategory(category) {\n  try {\n    const response = await axios.get(`${BASE_URL}/category`, {\n      params: { category },\n    });\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні книг за категорією:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getBooksByCategory(\"Hardcover Fiction\");\n\n\n\n\n//  Запит на детальну інформацію про книгу за ID\n\nexport async function getBookDetails(bookId) {\n  try {\n    const response = await axios.get(`${BASE_URL}/${bookId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні інформації про книгу книги:', error);\n    return null;\n  }\n}\n\n// Для перевірки роботи функції для різних ID\n// getBookDetails('65fc3c9ca957e5c1ae05b6d3');\n\n// getBookDetails('65fc3c9da957e5c1ae05b77c');","document.addEventListener('DOMContentLoaded', function () {\n  const menuButton = document.querySelector('.menu-button');\n  const closeButton = document.querySelector('.close-button');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const checkboxes = document.querySelectorAll('.custom-checkbox');\n\n  // Toggle mobile menu\n  menuButton.addEventListener('click', function () {\n    mobileMenu.classList.toggle('open');\n  });\n\n  // Close mobile menu\n  closeButton.addEventListener('click', function () {\n    mobileMenu.classList.remove('open');\n  });\n\n  // Toggle checkboxes\n  checkboxes.forEach(checkbox => {\n    checkbox.addEventListener('click', function (e) {\n      e.stopPropagation();\n      this.classList.toggle('checked');\n    });\n  });\n\n  // Close modal when clicking outside\n  document.addEventListener('click', function (event) {\n    if (!mobileMenu.contains(event.target) && event.target !== menuButton) {\n      mobileMenu.classList.remove('open');\n    }\n  });\n});\n","import {\n  getCategoryList,\n  getTopBooks,\n  getBooksByCategory,\n  getBookDetails,\n} from './api.js';\n\n\n// Application state\nlet currentCategory = 'all';\nlet visibleBooks = window.innerWidth <= 768 ? 10 : 24;\nlet booksPerLoad = 4;\nlet allBooks = [];\nlet categories = [];\nlet isLoading = false;\nlet useBackupData = false;\n\n// Determine initial book count based on screen size\nfunction getInitialBookCount() {\n  return window.innerWidth <= 768 ? 10 : 24;\n}\n\n// DOM elements\nconst bookList = document.getElementById('book-list');\nconst showMoreBtn = document.getElementById('show-more-btn');\nconst showingCount = document.getElementById('showing-count');\nconst totalCount = document.getElementById('total-count');\nconst categoryButtons = document.querySelectorAll('.category-btn');\n\n// Debug logging\nfunction debugLog(message, data = null) {\n  console.log(`[Books App Debug] ${message}`, data || '');\n}\n\n// Fetch categories from API with fallback\nasync function fetchCategories() {\n  try {\n    debugLog('Fetching categories...');\n    const data = await getCategoryList();\n    debugLog('Raw API response for categories:', data);\n    debugLog('Is array?', Array.isArray(data));\n    debugLog('Data length:', data ? data.length : 'null/undefined');\n\n    // Handle different possible response structures\n    let processedCategories = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      debugLog('Processing categories array...');\n\n      // Check if it's an array of category objects with list_name\n      if (data[0] && data[0].list_name) {\n        processedCategories = data.map(category => ({\n          name: category.list_name,\n          displayName: category.list_name,\n        }));\n      }\n      // Check if it's an array of simple strings\n      else if (typeof data[0] === 'string') {\n        processedCategories = data.map(categoryName => ({\n          name: categoryName,\n          displayName: categoryName,\n        }));\n      }\n      // Check if it has name property instead\n      else if (data[0] && data[0].name) {\n        processedCategories = data.map(category => ({\n          name: category.name,\n          displayName: category.display_name || category.name,\n        }));\n      }\n    }\n\n    if (processedCategories.length > 0) {\n      categories = processedCategories;\n      debugLog('Categories loaded from API:', categories);\n      useBackupData = false;\n      return categories;\n    } else {\n      debugLog('No valid categories found in API response, using backup');\n      throw new Error('No valid categories found in API response');\n    }\n  } catch (error) {\n    debugLog('Categories API failed:', error.message);\n    categories = [];\n    useBackupData = true;\n    return categories;\n  }\n}\n\nasync function fetchTopBooks() {\n  try {\n    debugLog('Fetching top books...');\n    const data = await getTopBooks();\n    debugLog('Raw API response for top books:', data);\n    debugLog('Is array?', Array.isArray(data));\n    debugLog('Data length:', data ? data.length : 'null/undefined');\n\n    let books = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      debugLog('Processing array response...');\n\n      if (data[0] && data[0].books && Array.isArray(data[0].books)) {\n        debugLog('Found category groups with books arrays');\n        data.forEach(categoryGroup => {\n          if (categoryGroup.books && Array.isArray(categoryGroup.books)) {\n            books = books.concat(\n              categoryGroup.books.map(book => ({\n                _id: book._id,\n                title: book.title,\n                author: book.author,\n                book_image: book.book_image,\n                list_name: categoryGroup.list_name,\n                description: book.description || '',\n                buy_links: book.buy_links || [],\n              }))\n            );\n          }\n        });\n      }\n      else if (data[0] && (data[0]._id || data[0].id) && data[0].title) {\n        debugLog('Found direct array of books');\n        books = data.map(book => ({\n          _id: book._id || book.id,\n          title: book.title,\n          author: book.author,\n          book_image: book.book_image || book.image,\n          list_name: book.list_name || 'General',\n          description: book.description || '',\n          buy_links: book.buy_links || [],\n        }));\n      } else {\n        debugLog('Unknown array structure:', data[0]);\n      }\n    }\n    else if (data && typeof data === 'object' && !Array.isArray(data)) {\n      debugLog('Processing object response...');\n\n      if (data.books && Array.isArray(data.books)) {\n        debugLog('Found books array in object');\n        books = data.books.map(book => ({\n          _id: book._id || book.id,\n          title: book.title,\n          author: book.author,\n          book_image: book.book_image || book.image,\n          list_name: book.list_name || 'General',\n          description: book.description || '',\n          buy_links: book.buy_links || [],\n        }));\n      }\n      else if (data.title) {\n        debugLog('Found single book object');\n        books = [\n          {\n            _id: data._id || data.id,\n            title: data.title,\n            author: data.author,\n            book_image: data.book_image || data.image,\n            list_name: data.list_name || 'General',\n            description: data.description || '',\n            buy_links: data.buy_links || [],\n          },\n        ];\n      }\n    }\n\n    if (books.length > 0) {\n      debugLog(`Successfully processed ${books.length} books from API`);\n      useBackupData = false;\n      return books;\n    } else {\n      debugLog('No valid books found in API response, using backup');\n      throw new Error('No valid books found in API response');\n    }\n  } catch (error) {\n    debugLog('Top books API failed:', error.message);\n    useBackupData = true;\n    return [];\n  }\n}\n\nasync function fetchBooksByCategory(category) {\n  try {\n    debugLog(`Fetching books for category: ${category}`);\n    const data = await getBooksByCategory(category);\n    debugLog('Raw API response for category books:', data);\n\n    let books = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      books = data.map(book => ({\n        _id: book._id || book.id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image || book.image,\n        list_name: category,\n        description: book.description || '',\n        buy_links: book.buy_links || [],\n      }));\n    } else if (\n      data &&\n      typeof data === 'object' &&\n      data.books &&\n      Array.isArray(data.books)\n    ) {\n      books = data.books.map(book => ({\n        _id: book._id || book.id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image || book.image,\n        list_name: category,\n        description: book.description || '',\n        buy_links: book.buy_links || [],\n      }));\n    }\n\n    if (books.length > 0) {\n      debugLog(`Loaded ${books.length} books for category ${category}`);\n      return books;\n    } else {\n      throw new Error('No books found for category');\n    }\n  } catch (error) {\n    debugLog(\n      `Category books API failed for ${category}, using filtered backup data:`,\n      error.message\n    );\n    return [];\n  }\n}\n\nasync function fetchBookDetails(bookId) {\n  try {\n    debugLog(`Fetching details for book: ${bookId}`);\n    const data = await getBookDetails(bookId);\n\n    if (data && data._id) {\n      debugLog('Book details loaded from API:', data);\n      return data;\n    } else {\n      throw new Error('Invalid book details data');\n    }\n  } catch (error) {\n    debugLog(\n      `Book details API failed for ${bookId}, using backup data:`,\n      error.message\n    );\n    return allBooks.find(book => book._id === bookId) || null;\n  }\n}\n\nfunction createBookItem(book) {\n  const displayPrice = 'Check Price';\n  const imageUrl =\n    book.book_image || 'https://via.placeholder.com/227x323?text=No+Image';\n\n  return `\n    <li class=\"book-item\">\n        <img\n            class=\"book-image\"\n            src=\"${imageUrl}\"\n            alt=\"${book.title} by ${book.author}\"\n            loading=\"lazy\"\n            onerror=\"this.src='https://via.placeholder.com/227x323?text=No+Image'\"\n        />\n        <div class=\"book-content\">\n            <div class=\"book-header\">\n                <div class=\"book-info\">\n                    <h3 class=\"book-title\">${book.title}</h3>\n                    <p class=\"book-author\">${book.author}</p>\n                </div>\n                <div class=\"book-price\">${displayPrice}</div>\n            </div>\n            <button class=\"learn-more-btn\" onclick=\"handleLearnMore('${book._id}')\">\n                Learn More\n            </button>\n        </div>\n    </li>\n  `;\n}\n\nfunction createLoadingSkeleton() {\n  return `\n    <li class=\"book-item\">\n      <div class=\"book-image\" style=\"background: #e0e0e0; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      <div class=\"book-content\">\n        <div class=\"book-header\">\n          <div class=\"book-info\">\n            <div style=\"height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 8px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n            <div style=\"height: 16px; background: #e0e0e0; border-radius: 4px; width: 70%; animation: pulse 1.5s ease-in-out infinite;\"></div>\n          </div>\n          <div style=\"height: 24px; background: #e0e0e0; border-radius: 4px; width: 60px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n        </div>\n        <div style=\"height: 40px; background: #e0e0e0; border-radius: 4px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      </div>\n    </li>\n  `;\n}\n\nfunction getFilteredBooks() {\n  if (currentCategory === 'all') {\n    return allBooks;\n  }\n  return allBooks.filter(book => book.list_name === currentCategory);\n}\n\nfunction showLoading() {\n  isLoading = true;\n  const skeletonCount = window.innerWidth <= 768 ? 10 : 24;\n  bookList.innerHTML = Array(skeletonCount)\n    .fill(createLoadingSkeleton())\n    .join('');\n  showMoreBtn.disabled = true;\n  debugLog('Showing loading state');\n}\n\nfunction renderBooks() {\n  if (isLoading) {\n    debugLog('Still loading, skipping render');\n    return;\n  }\n\n  const filteredBooks = getFilteredBooks();\n  const booksToShow = filteredBooks.slice(0, visibleBooks);\n\n  debugLog(\n    `Rendering ${booksToShow.length} books out of ${filteredBooks.length} total`\n  );\n\n  if (booksToShow.length === 0) {\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">No books found for this category.</li>';\n  } else {\n    bookList.innerHTML = booksToShow.map(book => createBookItem(book)).join('');\n  }\n\n  showingCount.textContent = booksToShow.length;\n  totalCount.textContent = filteredBooks.length;\n\n  if (booksToShow.length >= filteredBooks.length) {\n    showMoreBtn.classList.add('hidden');\n  } else {\n    showMoreBtn.classList.remove('hidden');\n  }\n\n  showMoreBtn.disabled = false;\n}\n\nasync function loadBooks() {\n  debugLog(`Loading books for category: ${currentCategory}`);\n  showLoading();\n\n  try {\n    if (currentCategory === 'all') {\n      allBooks = await fetchTopBooks();\n    } else {\n      allBooks = await fetchBooksByCategory(currentCategory);\n    }\n\n    if (allBooks.length === 0) {\n      throw new Error('No books loaded');\n    }\n\n    isLoading = false;\n    debugLog(`Successfully loaded ${allBooks.length} books`);\n    renderBooks();\n  } catch (error) {\n    debugLog('Error loading books:', error.message);\n    isLoading = false;\n\n    isLoading = false;\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">Unable to load books. Please check your internet connection and try again.</li>';\n    if (showMoreBtn) {\n      showMoreBtn.classList.add('hidden');\n    }\n  }\n}\n\nasync function updateCategoriesInSidebar() {\n  try {\n    debugLog('Updating categories in sidebar');\n    const fetchedCategories = await fetchCategories();\n    const categoriesContainer = document.querySelector('.categories');\n\n    if (!categoriesContainer) {\n      debugLog('Categories container not found');\n      return;\n    }\n\n    const categoryHTML = `\n      <li><button class=\"category-btn active\" data-category=\"all\">All categories</button></li>\n      ${fetchedCategories\n        .map(\n          category =>\n            `<li><button class=\"category-btn\" data-category=\"${category.name}\">${category.displayName}</button></li>`\n        )\n        .join('')}\n    `;\n\n    categoriesContainer.innerHTML = categoryHTML;\n    debugLog('Categories updated in sidebar');\n\n    const newCategoryButtons = document.querySelectorAll('.category-btn');\n    newCategoryButtons.forEach(btn => {\n      btn.addEventListener('click', () => {\n        handleCategorySelect(btn.dataset.category);\n      });\n    });\n  } catch (error) {\n    debugLog('Error updating categories:', error.message);\n  }\n}\n\nasync function handleCategorySelect(category) {\n  if (isLoading) {\n    debugLog('Already loading, ignoring category selection');\n    return;\n  }\n\n  debugLog(`Category selected: ${category}`);\n  currentCategory = category;\n  visibleBooks = getInitialBookCount();\n\n  // Update active button\n  document.querySelectorAll('.category-btn').forEach(btn => {\n    btn.classList.remove('active');\n    if (btn.dataset.category === category) {\n      btn.classList.add('active');\n    }\n  });\n\n  await loadBooks();\n}\n\nfunction handleShowMore() {\n  if (isLoading) return;\n\n  const filteredBooks = getFilteredBooks();\n  visibleBooks = Math.min(visibleBooks + booksPerLoad, filteredBooks.length);\n  debugLog(`Show more clicked, now showing ${visibleBooks} books`);\n  renderBooks();\n}\n\nconst style = document.createElement('style');\nstyle.textContent = `\n  @keyframes pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n  }\n`;\ndocument.head.appendChild(style);\n\n//window.handleLearnMore = handleLearnMore;\n\ndocument.querySelectorAll('.category-btn').forEach(btn => {\n  btn.addEventListener('click', () => {\n    handleCategorySelect(btn.dataset.category);\n  });\n});\n\nif (showMoreBtn) {\n  showMoreBtn.addEventListener('click', handleShowMore);\n}\n\nwindow.addEventListener('resize', () => {\n  const newInitialCount = getInitialBookCount();\n  const oldInitialCount = window.innerWidth <= 768 ? 24 : 10;\n\n  if (visibleBooks === oldInitialCount) {\n    visibleBooks = newInitialCount;\n    renderBooks();\n  }\n});\n\nfunction showApiStatus(isWorking) {\n  const countElement = document.querySelector('.count');\n  if (countElement && useBackupData) {\n    countElement.style.color = '#e15d05';\n    countElement.style.fontWeight = '500';\n    countElement.title =\n      'Using offline data - API server unavailable or blocked by CORS policy';\n\n    if (!countElement.querySelector('.offline-indicator')) {\n      const indicator = document.createElement('span');\n      indicator.className = 'offline-indicator';\n      indicator.innerHTML = ' 🔴';\n      indicator.style.fontSize = '12px';\n      indicator.title = 'Offline mode';\n      countElement.appendChild(indicator);\n    }\n  } else if (countElement) {\n    countElement.style.color = '#0b0500';\n    countElement.style.fontWeight = 'normal';\n    countElement.title = 'Live data from API';\n\n    const indicator = countElement.querySelector('.offline-indicator');\n    if (indicator) {\n      indicator.remove();\n    }\n\n    if (!countElement.querySelector('.online-indicator')) {\n      const indicator = document.createElement('span');\n      indicator.className = 'online-indicator';\n      indicator.innerHTML = ' 🟢';\n      indicator.style.fontSize = '12px';\n      indicator.title = 'Live data';\n      countElement.appendChild(indicator);\n\n      setTimeout(() => {\n        if (indicator.parentNode) {\n          indicator.remove();\n        }\n      }, 3000);\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  debugLog('App initializing...');\n\n  debugLog('Starting with API-only approach...');\n\n  showLoading();\n  debugLog('Showing loading state, attempting API calls...');\n\n  setTimeout(async () => {\n    try {\n      debugLog('Testing API connectivity...');\n\n      const testUrls = [\n        'https://books-backend.p.goit.global/books/category-list',\n        'https://books-backend.p.goit.global/category-list',\n        'https://books-backend.p.goit.global/api/books/category-list',\n        'https://books-backend.p.goit.global/api/category-list',\n      ];\n\n      let response = null;\n      let workingUrl = null;\n\n      for (const testUrl of testUrls) {\n        debugLog('Testing fetch to:', testUrl);\n        try {\n          response = await fetch(testUrl, {\n            method: 'GET',\n            mode: 'cors',\n            headers: {\n              Accept: 'application/json',\n            },\n          });\n\n          if (response.ok) {\n            workingUrl = testUrl;\n            debugLog('Found working URL:', workingUrl);\n            break;\n          }\n        } catch (error) {\n          debugLog(`Failed to fetch ${testUrl}:`, error.message);\n        }\n      }\n\n      if (!workingUrl || !response) {\n        throw new Error('All API endpoints failed - server unreachable');\n      }\n\n      debugLog('Fetch response status:', response.status);\n\n      if (response.ok) {\n        const data = await response.json();\n        debugLog('Direct fetch successful, data:', data);\n\n        debugLog('Direct fetch worked, trying API functions...');\n\n        const categories = await getCategoryList();\n        const books = await getTopBooks();\n\n        debugLog('API functions results:', { categories, books });\n\n        if (Array.isArray(books) && books.length > 0) {\n          debugLog('Processing API books data...');\n\n          let processedBooks = [];\n\n          if (books[0] && books[0].books) {\n            // Handle grouped format\n            books.forEach(group => {\n              if (group.books && Array.isArray(group.books)) {\n                group.books.forEach(book => {\n                  processedBooks.push({\n                    _id: book._id,\n                    title: book.title,\n                    author: book.author,\n                    book_image: book.book_image,\n                    list_name: group.list_name,\n                    description: book.description || '',\n                    buy_links: book.buy_links || [],\n                  });\n                });\n              }\n            });\n          } else if (books[0] && books[0].title) {\n            // Handle direct array format\n            processedBooks = books.map(book => ({\n              _id: book._id,\n              title: book.title,\n              author: book.author,\n              book_image: book.book_image,\n              list_name: book.list_name || 'General',\n              description: book.description || '',\n              buy_links: book.buy_links || [],\n            }));\n          }\n\n          if (processedBooks.length > 0) {\n            debugLog(\n              `Successfully processed ${processedBooks.length} books from API!`\n            );\n            allBooks = processedBooks;\n            useBackupData = false;\n            isLoading = false;\n            renderBooks();\n            showApiStatus(true);\n\n            // Show success notification\n            const notification = document.createElement('div');\n            notification.style.cssText = `\n              position: fixed;\n              top: 20px;\n              right: 20px;\n              background: #28a745;\n              color: white;\n              padding: 12px 16px;\n              border-radius: 4px;\n              font-size: 14px;\n              z-index: 1000;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            `;\n            notification.textContent =\n              'Successfully loaded live data from API! ✓';\n            document.body.appendChild(notification);\n\n            setTimeout(() => {\n              if (notification.parentNode) {\n                notification.remove();\n              }\n            }, 5000);\n          } else {\n            throw new Error('No books processed from API');\n          }\n        } else {\n          throw new Error('No books returned from API');\n        }\n      } else {\n        debugLog('Fetch failed with status:', response.status);\n        throw new Error(`HTTP ${response.status}`);\n      }\n    } catch (error) {\n      debugLog('API failed completely:', error.message);\n\n      isLoading = false;\n      bookList.innerHTML = `\n        <li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">\n          <h3>Unable to load books</h3>\n          <p>API connection failed: ${error.message}</p>\n          <p>Please check your internet connection and try refreshing the page.</p>\n        </li>\n      `;\n      showApiStatus(false);\n\n      const notification = document.createElement('div');\n      notification.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #dc3545;\n        color: white;\n        padding: 12px 16px;\n        border-radius: 4px;\n        font-size: 14px;\n        z-index: 1000;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n      `;\n      notification.textContent = 'API connection failed - no data available';\n      document.body.appendChild(notification);\n\n      setTimeout(() => {\n        if (notification.parentNode) {\n          notification.remove();\n        }\n      }, 8000);\n    }\n  }, 500);\n\n  debugLog('App initialization complete');\n});\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.feedbacks .swiper', {\n    modules: [Navigation, Pagination, Keyboard],\n\n    slidesPerView: 1,\n    spaceBetween: 24,\n    breakpoints: {\n        768: {\n            slidesPerView: 2\n        },\n        1440: {\n            slidesPerView: 3\n        }\n    },\n    navigation: {\n        nextEl: \".feedbacks .swiper-button-next\",\n        prevEl: \".feedbacks .swiper-button-prev\"\n    },\n    pagination: {\n        el: \".feedbacks .swiper-pagination\"\n    },\n    keyboard: {\n        enabled: true\n    }\n});\n\nfeedbacksSwiper.on(\"keyPress\", (swiper, keyCode) => {\n    if (keyCode === 9) {\n        swiper.slideNext();\n    }\n});","const slides = document.querySelectorAll('.events-item');\nconst indicators = document.querySelectorAll('.events-indicator');\nconst prevBtn = document.getElementById('prevBtn');\nconst nextBtn = document.getElementById('nextBtn');\n\n// Змінні для відстеження поточного стану\nlet currentSlide = 0;       // Для мобільних\nlet currentPage = 0;        // Для планшетів\nconst totalSlides = slides.length;\n\n// Функція для оновлення відображення\nfunction updateDisplay() {\n    // Перевіряємо розмір екрану\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        // Логіка для планшетів\n        hideAllSlides();\n        \n        if (currentPage === 0) {\n            // Показуємо перші 2 події\n            slides[0].style.display = 'block';\n            if (slides[1]) slides[1].style.display = 'block';\n        } else {\n            // Показуємо третю подію\n            if (slides[2]) slides[2].style.display = 'block';\n        }\n        \n        updateIndicators(currentPage);\n        updateButtons(currentPage, 1); // Максимум 2 сторінки\n    } else {\n        // Логіка для мобільних\n        hideAllSlides();\n        slides[currentSlide].style.display = 'block';\n        \n        updateIndicators(currentSlide);\n        updateButtons(currentSlide, totalSlides - 1);\n    }\n}\n\n// Функція для приховування всіх слайдів\nfunction hideAllSlides() {\n    slides.forEach(slide => {\n        slide.style.display = 'none';\n    });\n}\n\n// Функція для оновлення індикаторів\nfunction updateIndicators(activeIndex) {\n    indicators.forEach((indicator, index) => {\n        if (index === activeIndex) {\n            indicator.classList.add('active');\n        } else {\n            indicator.classList.remove('active');\n        }\n    });\n}\n\n// Функція для оновлення кнопок\nfunction updateButtons(current, max) {\n    prevBtn.disabled = (current === 0);\n    nextBtn.disabled = (current === max);\n}\n\n// Функція для переходу назад\nfunction goToPrevious() {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        if (currentPage > 0) {\n            currentPage = currentPage - 1;\n            updateDisplay();\n        }\n    } else {\n        if (currentSlide > 0) {\n            currentSlide = currentSlide - 1;\n            updateDisplay();\n        }\n    }\n}\n\n// Функція для переходу вперед\nfunction goToNext() {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        if (currentPage < 1) {\n            currentPage = currentPage + 1;\n            updateDisplay();\n        }\n    } else {\n        if (currentSlide < totalSlides - 1) {\n            currentSlide = currentSlide + 1;\n            updateDisplay();\n        }\n    }\n}\n\n// Функція для переходу до конкретного слайду/сторінки\nfunction goToSpecific(index) {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        currentPage = index;\n    } else {\n        currentSlide = index;\n    }\n    updateDisplay();\n}\n\n// Підключаємо обробники подій\nprevBtn.addEventListener('click', goToPrevious);\nnextBtn.addEventListener('click', goToNext);\n\n// Обробники для індикаторів\nindicators.forEach((indicator, index) => {\n    indicator.addEventListener('click', function() {\n        goToSpecific(index);\n    });\n});\n\n// Навігація клавіатурою\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'ArrowLeft') {\n        goToPrevious();\n    }\n    if (event.key === 'ArrowRight') {\n        goToNext();\n    }\n});\n\n// Обробка зміни розміру вікна\nwindow.addEventListener('resize', updateDisplay);\n\n// Обробники для кнопок Register\ndocument.querySelectorAll('.events-register').forEach(function(button) {\n    button.addEventListener('click', function() {\n        const eventName = this.closest('.events-item').querySelector('.events-name').textContent;\n        openModal(eventName);\n    });\n});\n\n// Функції для модального вікна\nfunction openModal(eventName) {\n    const modal = document.getElementById('contactModal');\n    const eventNameElement = document.getElementById('modalEventName');\n    \n    eventNameElement.textContent = eventName;\n    modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n    const modal = document.getElementById('contactModal');\n    modal.classList.remove('active');\n    document.body.style.overflow = '';\n    \n    // Очищаємо форму\n    document.getElementById('modalForm').reset();\n}\n\n// Обробники подій для модального вікна\ndocument.getElementById('closeModal').addEventListener('click', closeModal);\n\n// Закриття по кліку на фон\ndocument.getElementById('contactModal').addEventListener('click', function(event) {\n    if (event.target === this) {\n        closeModal();\n    }\n});\n\n// Закриття по Escape\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\n// Обробка відправки форми\ndocument.getElementById('modalForm').addEventListener('submit', function(event) {\n    event.preventDefault();\n    \n    const formData = new FormData(this);\n    const name = formData.get('name');\n    const email = formData.get('email');\n    const message = formData.get('message');\n    \n    console.log('Form submitted:', { name, email, message });\n    alert('Дякуємо за реєстрацію!');\n    \n    closeModal();\n});\n\n// Запускаємо при завантаженні сторінки\nupdateDisplay();","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { getBookDetails } from './api';\nimport '../css/modal-window.css';\n\n// console.log('Modal script подключился!');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const backdrop = document.querySelector('.modal-backdrop');\n  const quantityEl = document.getElementById('quantity');\n  const closeBtn = document.querySelector('.modal-close');\n\n  let currentQuantity = 1;\n\n  if (!backdrop || !quantityEl || !closeBtn) {\n    console.warn('Элементы модалки не найдены');\n    return;\n  }\n\n  // Делегирование для любых кнопок внутри страницы с data-id\n  document.addEventListener('click', e => {\n    const btn = e.target.closest('[data-id]');\n    if (!btn) return;\n\n    const bookId = btn.dataset.id;\n    // console.log('Клик по кнопке с id:', bookId);\n    if (bookId) openModal(bookId);\n  });\n\n  // Клик по затемнению или крестику — закрыть модалку\n  backdrop.addEventListener('click', e => {\n    if (\n      e.target.classList.contains('modal-backdrop') ||\n      e.target.closest('.modal-close')\n    ) {\n      closeModal();\n    }\n  });\n\n  // Закрытие по Esc\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeModal();\n  });\n\n  // Управление количеством\n  document.addEventListener('click', e => {\n    if (e.target.classList.contains('decrement')) decreaseQuantity();\n    if (e.target.classList.contains('increment')) increaseQuantity();\n    if (e.target.classList.contains('add-to-cart')) addToCart();\n    if (e.target.classList.contains('buy-now')) buyNow(e);\n  });\n\n  // убираем баг с дублированием аккордеонов при открытии\n  let accordionInstance = null;\n\n  async function openModal(bookId) {\n    const data = await getBookDetails(bookId);\n    if (!data) {\n      console.warn('Нет данных по книге');\n      return;\n    }\n\n    document.getElementById('modal-title').textContent = data.title;\n    document.getElementById('modal-author').textContent = data.author;\n    document.getElementById('modal-price').textContent = `$${data.price}`;\n    document.getElementById('modal-book-image').src = data.book_image;\n    document.getElementById('modal-book-image').alt = data.title;\n    document.getElementById('details-text').textContent =\n      data.description || 'No description';\n    document.getElementById('shipping-text').textContent =\n      'We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.';\n    document.getElementById('returns-text').textContent =\n      'You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.';\n\n    quantityEl.textContent = 1;\n    currentQuantity = 1;\n\n    backdrop.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n\n    // Если аккордеон уже существует — уничтожаем\n    if (accordionInstance) {\n      accordionInstance.destroy();\n\n      // Жёсткий сброс инлайн-стилей\n      document.querySelectorAll('.ac-panel').forEach(panel => {\n        panel.style.height = '';\n        panel.style.display = '';\n      });\n    }\n\n    // Создаём новый аккордеон и сохраняем в переменную\n    accordionInstance = new Accordion('#accordion', {\n      duration: 300,\n      showMultiple: true,\n      openOnInit: [0],\n    });\n  }\n\n  function closeModal() {\n    backdrop.classList.add('is-hidden');\n    document.body.style.overflow = '';\n    // Уничтожаем аккордеон и чистим стили при закрытии\n    if (accordionInstance) {\n      accordionInstance.destroy();\n      accordionInstance = null;\n\n      document.querySelectorAll('.ac-panel').forEach(panel => {\n        panel.style.height = '';\n        panel.style.display = '';\n      });\n    }\n  }\n\n  function increaseQuantity() {\n    currentQuantity++;\n    quantityEl.textContent = currentQuantity;\n  }\n\n  function decreaseQuantity() {\n    if (currentQuantity > 1) {\n      currentQuantity--;\n      quantityEl.textContent = currentQuantity;\n    }\n  }\n\n  function addToCart() {\n    console.log(`Додано у корзину: ${currentQuantity} шт.`);\n  }\n\n  function buyNow(e) {\n    e.preventDefault();\n    alert('Дякуємо за покупку');\n  }\n});\n"],"names":["BASE_URL","getCategoryList","response","axios","error","getTopBooks","getBooksByCategory","category","getBookDetails","bookId","menuButton","closeButton","mobileMenu","checkboxes","checkbox","e","event","currentCategory","visibleBooks","booksPerLoad","allBooks","isLoading","useBackupData","getInitialBookCount","bookList","showMoreBtn","showingCount","totalCount","debugLog","message","data","fetchTopBooks","books","categoryGroup","book","fetchBooksByCategory","createBookItem","createLoadingSkeleton","getFilteredBooks","showLoading","skeletonCount","renderBooks","filteredBooks","booksToShow","loadBooks","handleCategorySelect","btn","handleShowMore","style","newInitialCount","oldInitialCount","showApiStatus","isWorking","countElement","indicator","testUrls","workingUrl","testUrl","categories","processedBooks","group","notification","feedbacksSwiper","Swiper","Navigation","Pagination","Keyboard","swiper","keyCode","slides","indicators","prevBtn","nextBtn","currentSlide","currentPage","totalSlides","updateDisplay","hideAllSlides","updateIndicators","updateButtons","slide","activeIndex","index","current","max","goToPrevious","goToNext","goToSpecific","button","eventName","openModal","modal","eventNameElement","closeModal","formData","name","email","backdrop","quantityEl","closeBtn","currentQuantity","decreaseQuantity","increaseQuantity","addToCart","buyNow","accordionInstance","panel","Accordion"],"mappings":"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"}