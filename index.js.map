{"version":3,"file":"index.js","sources":["../src/js/books.js","../src/js/feedbacks.js"],"sourcesContent":["// API Configuration\nconst API_BASE_URL = \"https://books-backend.p.goit.global\";\nconst API_ENDPOINTS = {\n  categories: `${API_BASE_URL}/books/category-list`,\n  topBooks: `${API_BASE_URL}/books/top-books`,\n  booksByCategory: `${API_BASE_URL}/books/category`,\n  bookDetails: `${API_BASE_URL}/books`,\n};\n\n// Backup mock data in case API fails\nconst MOCK_BOOKS = [\n  {\n    _id: \"1\",\n    title: \"I will find you\",\n    author: \"Harlan Coben\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/be59079c942166f40b9f9b8ca0c95c9b0dd376cd?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A gripping thriller from bestselling author Harlan Coben.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"2\",\n    title: \"Hello Beautiful\",\n    author: \"Ann Napolitano\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/19b4f0571fe7d229818636954191ba15ff05696e?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A beautiful story about family, love, and resilience.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"3\",\n    title: \"It starts with us\",\n    author: \"Colleen Hoover\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/001f2a76a1b4620d1fb977b29164da216a346da5?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"The sequel to the bestselling romance novel.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"4\",\n    title: \"Daisy Jones & The Six\",\n    author: \"Taylor Jenkins Reid\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/9f8788ef7427aac176befc2418495a850e31f227?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A novel about a rock band's rise to fame in the 1970s.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"5\",\n    title: \"Saver\",\n    author: \"Benjamin Hall\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/98d2449870ec58a16c70ac2ab8a312374e6dcc62?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"A non-fiction book about financial management and saving.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"6\",\n    title: \"Spare\",\n    author: \"Prince Harry\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/84191fe427cba5940c78d3b0b66c500d4f85379f?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"Prince Harry's memoir about his life and experiences.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"7\",\n    title: \"Paris The Memoir\",\n    author: \"Paris Hilton\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/fddd368da72ad14deca914c44fc8fdc26589fe53?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"Paris Hilton's personal memoir and life story.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"8\",\n    title: \"The Courage to Be Free\",\n    author: \"Ron DeSantis\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/95f91ea1698f095cdea11e73b64d9deedb74e1f1?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"Political memoir and vision for America's future.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"9\",\n    title: \"The body keeps the score\",\n    author: \"Bessel van der Kolk\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/eb7283e734ea5c1a3e973593a98c1fb950720617?width=454\",\n    list_name: \"Advice How-To and Miscellaneous\",\n    description: \"A groundbreaking book about trauma and recovery.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"10\",\n    title: \"Lessons in chemistry\",\n    author: \"Bonnie Garmus\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/de8e5256a092a75663a70ebad4f598d410a983d3?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A novel about a female chemist in the 1960s.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  // Additional books to support desktop view (24+ books)\n  {\n    _id: \"11\",\n    title: \"Tomorrow and Tomorrow and Tomorrow\",\n    author: \"Gabrielle Zevin\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/6c211f6ed1a913f6387ae2258abf662c77e44cc2?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A novel about friendship and gaming.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"12\",\n    title: \"I'm Glad My Mom Died\",\n    author: \"Jennette McCurdy\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/9f6aea0fcc830497d46221f2aa67d6216f846a98?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"A powerful memoir about childhood stardom and family.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"13\",\n    title: \"The Seven Moons of Maali Almeida\",\n    author: \"Shehan Karunatilaka\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/ea9008b04bd05c29b9958daf4cab7d5d8363b333?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A darkly funny afterlife adventure.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"14\",\n    title: \"The Atlas Six\",\n    author: \"Olivie Blake\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/09192c2b149378095a3df5dfdd9d768107deffe1?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A dark academic fantasy about six magicians.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"15\",\n    title: \"Educated\",\n    author: \"Tara Westover\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/05b647891df90004e53febfd626d7677f5b8bffd?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"A memoir about education and family.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"16\",\n    title: \"The Thursday Murder Club\",\n    author: \"Richard Osman\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/85daae4642e37eb4d924fecc884c822a5cae8aa7?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A cozy mystery set in a retirement village.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"17\",\n    title: \"Atomic Habits\",\n    author: \"James Clear\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/7fb7e96835fecf1cb69394d3ef0630de77546b8d?width=454\",\n    list_name: \"Advice How-To and Miscellaneous\",\n    description: \"A guide to building good habits and breaking bad ones.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"18\",\n    title: \"The Midnight Library\",\n    author: \"Matt Haig\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/73d0b49530ac0a63445a67445297dd6a2a3d3329?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A novel about life's infinite possibilities.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"19\",\n    title: \"Becoming\",\n    author: \"Michelle Obama\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/9f6aea0fcc830497d46221f2aa67d6216f846a98?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"The former First Lady's powerful memoir.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"20\",\n    title: \"Where the Forest Meets the Stars\",\n    author: \"Glendy Vanderah\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/23d519246fd0211e2aa3678be56181200ab72505?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A heartwarming story about healing and hope.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"21\",\n    title: \"The Guest List\",\n    author: \"Lucy Foley\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/4e88e224f5b21410964eeec848d75a9b2c5afcd6?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A psychological thriller set at a wedding.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"22\",\n    title: \"Sapiens\",\n    author: \"Yuval Noah Harari\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/52c3113b5cea70eef0a1226e0a9f66d7e0e7a026?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"A brief history of humankind.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"23\",\n    title: \"The Silent Patient\",\n    author: \"Alex Michaelides\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/09b246cfd4ba727da8dd9a33b57fce06cf2c41bc?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A psychological thriller about a woman who refuses to speak.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"24\",\n    title: \"The Power of Now\",\n    author: \"Eckhart Tolle\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/e5d41e744e86169ba86dd2394676e58bcf728f24?width=454\",\n    list_name: \"Advice How-To and Miscellaneous\",\n    description: \"A guide to spiritual enlightenment.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"25\",\n    title: \"Little Fires Everywhere\",\n    author: \"Celeste Ng\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/be59079c942166f40b9f9b8ca0c95c9b0dd376cd?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A novel about family secrets and community tensions.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"26\",\n    title: \"Untamed\",\n    author: \"Glennon Doyle\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/19b4f0571fe7d229818636954191ba15ff05696e?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"A memoir about breaking free from expectations.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"27\",\n    title: \"The Vanishing Half\",\n    author: \"Brit Bennett\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/001f2a76a1b4620d1fb977b29164da216a346da5?width=454\",\n    list_name: \"Combined Print and E-book Fiction\",\n    description: \"A novel about identity and family secrets.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n  {\n    _id: \"28\",\n    title: \"Born a Crime\",\n    author: \"Trevor Noah\",\n    book_image:\n      \"https://cdn.builder.io/api/v1/image/assets/TEMP/9f8788ef7427aac176befc2418495a850e31f227?width=454\",\n    list_name: \"Combined Print & E-book Nonfiction\",\n    description: \"A memoir about growing up in South Africa.\",\n    buy_links: [{ name: \"Amazon\", url: \"https://amazon.com\" }],\n  },\n];\n\nconst MOCK_CATEGORIES = [\n  {\n    name: \"Combined Print and E-book Fiction\",\n    displayName: \"Combined Print and E-book Fiction\",\n  },\n  {\n    name: \"Combined Print & E-book Nonfiction\",\n    displayName: \"Combined Print & E-book Nonfiction\",\n  },\n  { name: \"Hardcover Fiction\", displayName: \"Hardcover Fiction\" },\n  { name: \"Paperback Trade Fiction\", displayName: \"Paperback Trade Fiction\" },\n  { name: \"Paperback Nonfiction\", displayName: \"Paperback Nonfiction\" },\n  {\n    name: \"Advice How-To and Miscellaneous\",\n    displayName: \"Advice, How-To and Miscellaneous\",\n  },\n  {\n    name: \"Children's Middle Grade Hardcover\",\n    displayName: \"Children's Middle Grade Hardcover\",\n  },\n];\n\n// Application state\nlet currentCategory = \"all\";\nlet visibleBooks = window.innerWidth <= 768 ? 10 : 24;\nlet booksPerLoad = 4;\nlet allBooks = [];\nlet categories = MOCK_CATEGORIES;\nlet isLoading = false;\nlet useBackupData = false;\n\n// Determine initial book count based on screen size\nfunction getInitialBookCount() {\n  return window.innerWidth <= 768 ? 10 : 24;\n}\n\n// DOM elements\nconst bookList = document.getElementById(\"book-list\");\nconst showMoreBtn = document.getElementById(\"show-more-btn\");\nconst showingCount = document.getElementById(\"showing-count\");\nconst totalCount = document.getElementById(\"total-count\");\nconst categoryButtons = document.querySelectorAll(\".category-btn\");\nconst modalOverlay = document.getElementById(\"modal-overlay\");\nconst modalClose = document.getElementById(\"modal-close\");\nconst modalContent = document.getElementById(\"modal-content\");\n\n// Debug modal elements\ndebugLog(\"Modal elements check:\", {\n  modalOverlay: !!modalOverlay,\n  modalClose: !!modalClose,\n  modalContent: !!modalContent,\n});\n\nif (!modalOverlay || !modalClose || !modalContent) {\n  debugLog(\"ERROR: Missing modal elements!\", {\n    modalOverlay: !!modalOverlay,\n    modalClose: !!modalClose,\n    modalContent: !!modalContent,\n  });\n}\n\n// Debug logging\nfunction debugLog(message, data = null) {\n  console.log(`[Books App Debug] ${message}`, data || \"\");\n}\n\n// API Helper Functions with improved CORS and network error handling\nasync function fetchData(url, timeout = 15000) {\n  debugLog(`Fetching data from: ${url}`);\n\n  try {\n    // Try with mode: 'cors' and no-cors fallback\n    const response = await fetch(url, {\n      method: \"GET\",\n      mode: \"cors\",\n      headers: {\n        Accept: \"application/json\",\n      },\n    });\n\n    debugLog(`Response status: ${response.status}`);\n\n    if (!response.ok) {\n      throw new Error(\n        `HTTP error! status: ${response.status} - ${response.statusText}`,\n      );\n    }\n\n    const data = await response.json();\n    debugLog(`Received data successfully:`, data);\n    return data;\n  } catch (error) {\n    debugLog(`Primary fetch failed: ${error.message}`);\n\n    // Handle specific error types\n    if (\n      error.name === \"TypeError\" &&\n      (error.message.includes(\"fetch\") ||\n        error.message.includes(\"Failed to fetch\"))\n    ) {\n      debugLog(\"Network/CORS error detected - API unreachable\");\n      throw new Error(\"API_UNREACHABLE\");\n    }\n\n    if (error.message.includes(\"CORS\")) {\n      debugLog(\"CORS error detected\");\n      throw new Error(\"CORS_ERROR\");\n    }\n\n    // For other errors, still throw but with context\n    throw new Error(`API_ERROR: ${error.message}`);\n  }\n}\n\n// Fetch categories from API with fallback\nasync function fetchCategories() {\n  try {\n    debugLog(\"Fetching categories...\");\n    const data = await fetchData(API_ENDPOINTS.categories);\n\n    if (Array.isArray(data) && data.length > 0) {\n      categories = data.map((category) => ({\n        name: category.list_name,\n        displayName: category.list_name,\n      }));\n      debugLog(\"Categories loaded from API:\", categories);\n      useBackupData = false;\n      return categories;\n    } else {\n      debugLog(\"Invalid categories data structure, using backup\");\n      throw new Error(\"Invalid categories data structure\");\n    }\n  } catch (error) {\n    debugLog(\"Categories API failed, using backup data:\", error.message);\n\n    // Show user-friendly message based on error type\n    if (\n      error.message.includes(\"API_UNREACHABLE\") ||\n      error.message.includes(\"CORS_ERROR\")\n    ) {\n      debugLog(\"API server unreachable or CORS blocked - using offline data\");\n    }\n\n    categories = MOCK_CATEGORIES;\n    useBackupData = true;\n    return categories;\n  }\n}\n\n// Fetch top books with fallback\nasync function fetchTopBooks() {\n  try {\n    debugLog(\"Fetching top books...\");\n    const data = await fetchData(API_ENDPOINTS.topBooks);\n\n    if (Array.isArray(data) && data.length > 0) {\n      let books = [];\n      data.forEach((categoryGroup) => {\n        if (categoryGroup.books && Array.isArray(categoryGroup.books)) {\n          books = books.concat(\n            categoryGroup.books.map((book) => ({\n              _id: book._id,\n              title: book.title,\n              author: book.author,\n              book_image: book.book_image,\n              list_name: categoryGroup.list_name,\n              description: book.description || \"\",\n              buy_links: book.buy_links || [],\n            })),\n          );\n        }\n      });\n\n      if (books.length > 0) {\n        debugLog(`Loaded ${books.length} top books from API`);\n        useBackupData = false; // API is working\n        return books;\n      } else {\n        debugLog(\"No books found in API response, using backup\");\n        throw new Error(\"No books found in top books response\");\n      }\n    } else {\n      debugLog(\"Invalid API response structure, using backup\");\n      throw new Error(\"Invalid top books data structure\");\n    }\n  } catch (error) {\n    debugLog(\"Top books API failed, using backup data:\", error.message);\n    useBackupData = true;\n    return MOCK_BOOKS;\n  }\n}\n\n// Fetch books by category with fallback\nasync function fetchBooksByCategory(category) {\n  try {\n    debugLog(`Fetching books for category: ${category}`);\n    const url = `${API_ENDPOINTS.booksByCategory}?category=${encodeURIComponent(category)}`;\n    const data = await fetchData(url);\n\n    if (Array.isArray(data) && data.length > 0) {\n      const books = data.map((book) => ({\n        _id: book._id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image,\n        list_name: category,\n        description: book.description || \"\",\n        buy_links: book.buy_links || [],\n      }));\n\n      debugLog(`Loaded ${books.length} books for category ${category}`);\n      return books;\n    } else {\n      throw new Error(\"No books found for category\");\n    }\n  } catch (error) {\n    debugLog(\n      `Category books API failed for ${category}, using filtered backup data:`,\n      error.message,\n    );\n    // Filter backup data by category\n    return MOCK_BOOKS.filter((book) => book.list_name === category);\n  }\n}\n\n// Fetch detailed book information with fallback\nasync function fetchBookDetails(bookId) {\n  try {\n    debugLog(`Fetching details for book: ${bookId}`);\n    const url = `${API_ENDPOINTS.bookDetails}/${bookId}`;\n    const data = await fetchData(url);\n\n    if (data && data._id) {\n      debugLog(\"Book details loaded from API:\", data);\n      return data;\n    } else {\n      throw new Error(\"Invalid book details data\");\n    }\n  } catch (error) {\n    debugLog(\n      `Book details API failed for ${bookId}, using backup data:`,\n      error.message,\n    );\n    // Find book in current allBooks array or mock data\n    return (\n      allBooks.find((book) => book._id === bookId) ||\n      MOCK_BOOKS.find((book) => book._id === bookId) ||\n      null\n    );\n  }\n}\n\n// Create book item HTML\nfunction createBookItem(book) {\n  const displayPrice = \"Check Price\";\n  const imageUrl =\n    book.book_image || \"https://via.placeholder.com/227x323?text=No+Image\";\n\n  return `\n    <li class=\"book-item\">\n        <img\n            class=\"book-image\"\n            src=\"${imageUrl}\"\n            alt=\"${book.title} by ${book.author}\"\n            loading=\"lazy\"\n            onerror=\"this.src='https://via.placeholder.com/227x323?text=No+Image'\"\n        />\n        <div class=\"book-content\">\n            <div class=\"book-header\">\n                <div class=\"book-info\">\n                    <h3 class=\"book-title\">${book.title}</h3>\n                    <p class=\"book-author\">${book.author}</p>\n                </div>\n                <div class=\"book-price\">${displayPrice}</div>\n            </div>\n            <button class=\"learn-more-btn\" onclick=\"handleLearnMore('${book._id}')\">\n                Learn More\n            </button>\n        </div>\n    </li>\n  `;\n}\n\n// Create loading skeleton\nfunction createLoadingSkeleton() {\n  return `\n    <li class=\"book-item\">\n      <div class=\"book-image\" style=\"background: #e0e0e0; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      <div class=\"book-content\">\n        <div class=\"book-header\">\n          <div class=\"book-info\">\n            <div style=\"height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 8px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n            <div style=\"height: 16px; background: #e0e0e0; border-radius: 4px; width: 70%; animation: pulse 1.5s ease-in-out infinite;\"></div>\n          </div>\n          <div style=\"height: 24px; background: #e0e0e0; border-radius: 4px; width: 60px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n        </div>\n        <div style=\"height: 40px; background: #e0e0e0; border-radius: 4px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      </div>\n    </li>\n  `;\n}\n\n// Filter books by category\nfunction getFilteredBooks() {\n  if (currentCategory === \"all\") {\n    return allBooks;\n  }\n  return allBooks.filter((book) => book.list_name === currentCategory);\n}\n\n// Show loading state\nfunction showLoading() {\n  isLoading = true;\n  const skeletonCount = window.innerWidth <= 768 ? 10 : 24;\n  bookList.innerHTML = Array(skeletonCount)\n    .fill(createLoadingSkeleton())\n    .join(\"\");\n  showMoreBtn.disabled = true;\n  debugLog(\"Showing loading state\");\n}\n\n// Render books to the list\nfunction renderBooks() {\n  if (isLoading) {\n    debugLog(\"Still loading, skipping render\");\n    return;\n  }\n\n  const filteredBooks = getFilteredBooks();\n  const booksToShow = filteredBooks.slice(0, visibleBooks);\n\n  debugLog(\n    `Rendering ${booksToShow.length} books out of ${filteredBooks.length} total`,\n  );\n\n  if (booksToShow.length === 0) {\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">No books found for this category.</li>';\n  } else {\n    bookList.innerHTML = booksToShow\n      .map((book) => createBookItem(book))\n      .join(\"\");\n  }\n\n  // Update counters\n  showingCount.textContent = booksToShow.length;\n  totalCount.textContent = filteredBooks.length;\n\n  // Show/hide \"Show More\" button\n  if (booksToShow.length >= filteredBooks.length) {\n    showMoreBtn.classList.add(\"hidden\");\n  } else {\n    showMoreBtn.classList.remove(\"hidden\");\n  }\n\n  showMoreBtn.disabled = false;\n}\n\n// Load books based on current category\nasync function loadBooks() {\n  debugLog(`Loading books for category: ${currentCategory}`);\n  showLoading();\n\n  try {\n    if (currentCategory === \"all\") {\n      allBooks = await fetchTopBooks();\n    } else {\n      allBooks = await fetchBooksByCategory(currentCategory);\n    }\n\n    if (allBooks.length === 0) {\n      throw new Error(\"No books loaded\");\n    }\n\n    isLoading = false;\n    debugLog(`Successfully loaded ${allBooks.length} books`);\n    renderBooks();\n  } catch (error) {\n    debugLog(\"Error loading books:\", error.message);\n    isLoading = false;\n\n    // Try to use backup data as last resort\n    if (!useBackupData) {\n      debugLog(\"Attempting to use backup data\");\n      allBooks =\n        currentCategory === \"all\"\n          ? MOCK_BOOKS\n          : MOCK_BOOKS.filter((book) => book.list_name === currentCategory);\n      useBackupData = true;\n      renderBooks();\n    } else {\n      bookList.innerHTML =\n        '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">Unable to load books. Please check your internet connection and try again.</li>';\n      showMoreBtn.classList.add(\"hidden\");\n    }\n  }\n}\n\n// Update categories in sidebar\nasync function updateCategoriesInSidebar() {\n  try {\n    debugLog(\"Updating categories in sidebar\");\n    const fetchedCategories = await fetchCategories();\n    const categoriesContainer = document.querySelector(\".categories\");\n\n    if (!categoriesContainer) {\n      debugLog(\"Categories container not found\");\n      return;\n    }\n\n    // Create new category buttons\n    const categoryHTML = `\n      <li><button class=\"category-btn active\" data-category=\"all\">All categories</button></li>\n      ${fetchedCategories\n        .map(\n          (category) =>\n            `<li><button class=\"category-btn\" data-category=\"${category.name}\">${category.displayName}</button></li>`,\n        )\n        .join(\"\")}\n    `;\n\n    categoriesContainer.innerHTML = categoryHTML;\n    debugLog(\"Categories updated in sidebar\");\n\n    // Add event listeners to new buttons\n    const newCategoryButtons = document.querySelectorAll(\".category-btn\");\n    newCategoryButtons.forEach((btn) => {\n      btn.addEventListener(\"click\", () => {\n        handleCategorySelect(btn.dataset.category);\n      });\n    });\n  } catch (error) {\n    debugLog(\"Error updating categories:\", error.message);\n  }\n}\n\n// Handle category selection\nasync function handleCategorySelect(category) {\n  if (isLoading) {\n    debugLog(\"Already loading, ignoring category selection\");\n    return;\n  }\n\n  debugLog(`Category selected: ${category}`);\n  currentCategory = category;\n  visibleBooks = getInitialBookCount();\n\n  // Update active button\n  document.querySelectorAll(\".category-btn\").forEach((btn) => {\n    btn.classList.remove(\"active\");\n    if (btn.dataset.category === category) {\n      btn.classList.add(\"active\");\n    }\n  });\n\n  await loadBooks();\n}\n\n// Handle show more button\nfunction handleShowMore() {\n  if (isLoading) return;\n\n  const filteredBooks = getFilteredBooks();\n  visibleBooks = Math.min(visibleBooks + booksPerLoad, filteredBooks.length);\n  debugLog(`Show more clicked, now showing ${visibleBooks} books`);\n  renderBooks();\n}\n\n// Handle learn more button\nasync function handleLearnMore(bookId) {\n  try {\n    debugLog(`Learn more clicked for book: ${bookId}`);\n\n    // Check if modal elements exist\n    if (!modalOverlay || !modalContent) {\n      debugLog(\"Modal elements not found!\");\n      return;\n    }\n\n    // Show modal with loading state\n    modalContent.innerHTML =\n      '<div style=\"text-align: center; padding: 40px; color: #0b0500;\">Loading book details...</div>';\n    modalOverlay.classList.add(\"active\");\n    modalOverlay.setAttribute(\"aria-hidden\", \"false\");\n    document.body.style.overflow = \"hidden\";\n\n    const bookDetails = await fetchBookDetails(bookId);\n\n    if (bookDetails) {\n      openBookModal(bookDetails);\n    } else {\n      modalContent.innerHTML =\n        '<div style=\"text-align: center; padding: 40px; color: #0b0500;\">Error loading book details.</div>';\n    }\n  } catch (error) {\n    debugLog(\"Error loading book details:\", error.message);\n    modalContent.innerHTML =\n      '<div style=\"text-align: center; padding: 40px; color: #0b0500;\">Error loading book details.</div>';\n  }\n}\n\n// Make functions globally accessible for onclick handlers\nwindow.handleLearnMore = handleLearnMore;\n\n// Open book modal with detailed information\nfunction openBookModal(book) {\n  const buyLinksHTML =\n    book.buy_links && book.buy_links.length > 0\n      ? book.buy_links\n          .map(\n            (link) =>\n              `<a href=\"${link.url}\" target=\"_blank\" rel=\"noopener noreferrer\" style=\"color: #e15d05; margin-right: 12px;\">${link.name}</a>`,\n          )\n          .join(\"\")\n      : \"Available at major book retailers\";\n\n  modalContent.innerHTML = `\n    <img\n      class=\"modal-book-image\"\n      src=\"${book.book_image || \"https://via.placeholder.com/309x467?text=No+Image\"}\"\n      alt=\"${book.title} by ${book.author}\"\n      onerror=\"this.src='https://via.placeholder.com/309x467?text=No+Image'\"\n    />\n    <div class=\"modal-book-details\">\n      <div class=\"modal-product-info\">\n        <div class=\"modal-product-name\">\n          <h3 class=\"modal-book-title\">${book.title}</h3>\n          <p class=\"modal-book-author\">${book.author}</p>\n          <div class=\"modal-book-price\">Check Price</div>\n        </div>\n\n        <div class=\"modal-form\">\n          <div class=\"modal-quantity\">\n            <button class=\"quantity-btn\" onclick=\"changeQuantity(-1)\">-</button>\n            <input type=\"number\" class=\"quantity-input\" id=\"quantity\" value=\"1\" min=\"1\" readonly>\n            <button class=\"quantity-btn\" onclick=\"changeQuantity(1)\">+</button>\n          </div>\n\n          <div class=\"modal-cart-buttons\">\n            <button class=\"cart-btn primary\" onclick=\"addToCart('${book._id}')\">Add To Cart</button>\n            <button class=\"cart-btn secondary\" onclick=\"buyNow('${book._id}')\">Buy Now</button>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"modal-accordion\">\n        <div class=\"accordion-item\">\n          <div class=\"accordion-header\" onclick=\"toggleAccordion(this)\">\n            <h4 class=\"accordion-title\">Details</h4>\n            <svg class=\"accordion-icon\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.6023 9.36791C11.822 9.14823 12.1781 9.14823 12.3978 9.36791L18.1326 15.1028C18.3523 15.3225 18.3523 15.6786 18.1326 15.8982L17.8674 16.1634C17.6478 16.3831 17.2916 16.3831 17.0719 16.1634L12 11.0915L6.92808 16.1634C6.7084 16.3831 6.3523 16.3831 6.13263 16.1634L5.86743 15.8982C5.64775 15.6786 5.64775 15.3225 5.86743 15.1028L11.6023 9.36791Z\" fill=\"#0B0500\"/>\n            </svg>\n          </div>\n          <div class=\"accordion-content\">\n            ${book.description || \"I Will Find You is a gripping thriller by the master of suspense, Harlan Coben. The story follows David Burroughs, a former prisoner wrongfully convicted of murdering his own son. When he discovers a clue suggesting his son might still be alive, David escapes from prison to uncover the truth. Fast-paced, emotional, and full of unexpected twists — this novel will keep you hooked until the very last page.\"}\n          </div>\n        </div>\n\n        <div class=\"accordion-item\">\n          <div class=\"accordion-header\" onclick=\"toggleAccordion(this)\">\n            <h4 class=\"accordion-title\">Shipping</h4>\n            <svg class=\"accordion-icon\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.6023 9.36784C11.822 9.14817 12.1781 9.14817 12.3978 9.36784L18.1326 15.1027C18.3523 15.3224 18.3523 15.6785 18.1326 15.8982L17.8674 16.1634C17.6478 16.383 17.2916 16.383 17.0719 16.1634L12 11.0914L6.92808 16.1634C6.7084 16.383 6.3523 16.383 6.13263 16.1634L5.86743 15.8982C5.64775 15.6785 5.64775 15.3224 5.86743 15.1027L11.6023 9.36784Z\" fill=\"#0B0500\"/>\n            </svg>\n          </div>\n          <div class=\"accordion-content\">\n            We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.\n          </div>\n        </div>\n\n        <div class=\"accordion-item\">\n          <div class=\"accordion-header\" onclick=\"toggleAccordion(this)\">\n            <h4 class=\"accordion-title\">Returns</h4>\n            <svg class=\"accordion-icon\" viewBox=\"0 0 24 25\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.6023 9.36784C11.822 9.14817 12.1781 9.14817 12.3978 9.36784L18.1326 15.1027C18.3523 15.3224 18.3523 15.6785 18.1326 15.8982L17.8674 16.1634C17.6478 16.383 17.2916 16.383 17.0719 16.1634L12 11.0914L6.92808 16.1634C6.7084 16.383 6.3523 16.383 6.13263 16.1634L5.86743 15.8982C5.64775 15.6785 5.64775 15.3224 5.86743 15.1027L11.6023 9.36784Z\" fill=\"#0B0500\"/>\n            </svg>\n          </div>\n          <div class=\"accordion-content\">\n            You can return an item within 14 days of receiving your order, provided it hasn't been used and is in its original condition. To start a return, please contact our support team — we'll guide you through the process quickly and hassle-free.\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n// Close book modal\nfunction closeBookModal() {\n  modalOverlay.classList.remove(\"active\");\n  modalOverlay.setAttribute(\"aria-hidden\", \"true\");\n  document.body.style.overflow = \"\";\n}\n\n// Modal interaction functions\nfunction changeQuantity(delta) {\n  const quantityInput = document.getElementById(\"quantity\");\n  if (quantityInput) {\n    const currentValue = parseInt(quantityInput.value) || 1;\n    const newValue = Math.max(1, currentValue + delta);\n    quantityInput.value = newValue;\n  }\n}\n\nfunction addToCart(bookId) {\n  const quantity = document.getElementById(\"quantity\")?.value || 1;\n  debugLog(`Adding ${quantity} of book ${bookId} to cart`);\n  // TODO: Implement cart functionality\n  alert(`Added ${quantity} book(s) to cart!`);\n}\n\nfunction buyNow(bookId) {\n  const quantity = document.getElementById(\"quantity\")?.value || 1;\n  debugLog(`Buy now: ${quantity} of book ${bookId}`);\n  // TODO: Implement buy now functionality\n  alert(`Proceeding to checkout with ${quantity} book(s)!`);\n}\n\nfunction toggleAccordion(element) {\n  const content = element.nextElementSibling;\n  const icon = element.querySelector(\".accordion-icon\");\n\n  if (content && icon) {\n    if (content.classList.contains(\"active\")) {\n      content.classList.remove(\"active\");\n      icon.style.transform = \"rotate(0deg)\";\n    } else {\n      // Close all other accordion items first\n      document.querySelectorAll(\".accordion-content.active\").forEach((item) => {\n        item.classList.remove(\"active\");\n        const itemIcon =\n          item.previousElementSibling?.querySelector(\".accordion-icon\");\n        if (itemIcon) {\n          itemIcon.style.transform = \"rotate(0deg)\";\n        }\n      });\n\n      // Open the clicked item\n      content.classList.add(\"active\");\n      icon.style.transform = \"rotate(180deg)\";\n    }\n  }\n}\n\n// Add CSS for loading animation\nconst style = document.createElement(\"style\");\nstyle.textContent = `\n  @keyframes pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n  }\n`;\ndocument.head.appendChild(style);\n\n// Event listeners for initial category buttons\ndocument.querySelectorAll(\".category-btn\").forEach((btn) => {\n  btn.addEventListener(\"click\", () => {\n    handleCategorySelect(btn.dataset.category);\n  });\n});\n\nshowMoreBtn.addEventListener(\"click\", handleShowMore);\n\n// Modal event listeners\nmodalClose.addEventListener(\"click\", closeBookModal);\nmodalOverlay.addEventListener(\"click\", (e) => {\n  if (e.target === modalOverlay) {\n    closeBookModal();\n  }\n});\n\n// Close modal on Escape key\ndocument.addEventListener(\"keydown\", (e) => {\n  if (e.key === \"Escape\" && modalOverlay.classList.contains(\"active\")) {\n    closeBookModal();\n  }\n});\n\n// Handle responsive changes\nwindow.addEventListener(\"resize\", () => {\n  const newInitialCount = getInitialBookCount();\n  const oldInitialCount = window.innerWidth <= 768 ? 24 : 10;\n\n  // Only reset if switching between mobile/desktop and currently showing initial count\n  if (visibleBooks === oldInitialCount) {\n    visibleBooks = newInitialCount;\n    renderBooks();\n  }\n});\n\n// Show API status indicator\nfunction showApiStatus(isWorking) {\n  const countElement = document.querySelector(\".count\");\n  if (countElement && useBackupData) {\n    countElement.style.color = \"#e15d05\";\n    countElement.style.fontWeight = \"500\";\n    countElement.title =\n      \"Using offline data - API server unavailable or blocked by CORS policy\";\n\n    // Add visual indicator\n    if (!countElement.querySelector(\".offline-indicator\")) {\n      const indicator = document.createElement(\"span\");\n      indicator.className = \"offline-indicator\";\n      indicator.innerHTML = \" 🔴\";\n      indicator.style.fontSize = \"12px\";\n      indicator.title = \"Offline mode\";\n      countElement.appendChild(indicator);\n    }\n  } else if (countElement) {\n    countElement.style.color = \"#0b0500\";\n    countElement.style.fontWeight = \"normal\";\n    countElement.title = \"Live data from API\";\n\n    // Remove offline indicator\n    const indicator = countElement.querySelector(\".offline-indicator\");\n    if (indicator) {\n      indicator.remove();\n    }\n\n    // Add online indicator\n    if (!countElement.querySelector(\".online-indicator\")) {\n      const indicator = document.createElement(\"span\");\n      indicator.className = \"online-indicator\";\n      indicator.innerHTML = \" 🟢\";\n      indicator.style.fontSize = \"12px\";\n      indicator.title = \"Live data\";\n      countElement.appendChild(indicator);\n\n      // Remove online indicator after 3 seconds\n      setTimeout(() => {\n        if (indicator.parentNode) {\n          indicator.remove();\n        }\n      }, 3000);\n    }\n  }\n}\n\n// Add connection test\nasync function testApiConnection() {\n  try {\n    debugLog(\"Testing API connection...\");\n    // Try a simple fetch to test connectivity\n    const response = await fetch(API_ENDPOINTS.categories, {\n      method: \"HEAD\", // Just check if server responds\n      mode: \"cors\",\n    });\n    debugLog(\"API connection test successful\");\n    return true;\n  } catch (error) {\n    debugLog(\"API connection test failed:\", error.message);\n    return false;\n  }\n}\n\n// Initialize the app\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n  debugLog(\"App initializing...\");\n\n  // Make functions globally accessible for onclick handlers\n  window.handleLearnMore = handleLearnMore;\n  window.changeQuantity = changeQuantity;\n  window.addToCart = addToCart;\n  window.buyNow = buyNow;\n  window.toggleAccordion = toggleAccordion;\n\n  // Always start with backup data for immediate display\n  allBooks = MOCK_BOOKS;\n  useBackupData = true;\n  isLoading = false;\n  visibleBooks = getInitialBookCount(); // Reset to proper initial count\n  renderBooks();\n  showApiStatus(false);\n  debugLog(\"Initial render with backup data complete\");\n\n  // Test API connection first\n  debugLog(\"Testing API connection...\");\n  const apiAvailable = await testApiConnection();\n\n  if (!apiAvailable) {\n    debugLog(\"API server unreachable - staying in offline mode\");\n    showApiStatus(false);\n\n    // Show user-friendly message\n    const bookList = document.getElementById(\"book-list\");\n    if (bookList && bookList.children.length > 0) {\n      // Add a subtle notification\n      const notification = document.createElement(\"div\");\n      notification.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #e15d05;\n        color: white;\n        padding: 12px 16px;\n        border-radius: 4px;\n        font-size: 14px;\n        z-index: 1000;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n      `;\n      notification.textContent = \"Using offline data - API unavailable\";\n      document.body.appendChild(notification);\n\n      // Remove notification after 5 seconds\n      setTimeout(() => {\n        if (notification.parentNode) {\n          notification.remove();\n        }\n      }, 5000);\n    }\n\n    return; // Don't try API calls if connection test failed\n  }\n\n  // API is available, try to load real data\n  debugLog(\"API connection successful - loading real data...\");\n\n  setTimeout(async () => {\n    try {\n      await updateCategoriesInSidebar();\n      await loadBooks();\n      showApiStatus(!useBackupData);\n      debugLog(\"Real data loading complete\");\n    } catch (error) {\n      debugLog(\"Real data loading failed:\", error.message);\n      showApiStatus(false);\n    }\n  }, 100);\n\n  debugLog(\"App initialization complete\");\n});\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.feedbacks .swiper', {\n    modules: [Navigation, Pagination, Keyboard],\n\n    slidesPerView: 1,\n    spaceBetween: 24,\n    navigation: {\n        nextEl: \".feedbacks .swiper-button-next\",\n        prevEl: \".feedbacks .swiper-button-prev\"\n    },\n    pagination: {\n        el: \".feedbacks .swiper-pagination\"\n    },\n    keyboard: {\n        enabled: true\n    }\n});\n\nfeedbacksSwiper.on(\"keyPress\", (swiper, keyCode) => {\n    if (keyCode === 9) {\n        swiper.slideNext();\n    }\n});"],"names":["API_BASE_URL","API_ENDPOINTS","MOCK_BOOKS","MOCK_CATEGORIES","currentCategory","visibleBooks","booksPerLoad","allBooks","categories","isLoading","useBackupData","getInitialBookCount","bookList","showMoreBtn","showingCount","totalCount","modalOverlay","modalClose","modalContent","debugLog","message","data","fetchData","url","timeout","response","error","fetchCategories","category","fetchTopBooks","books","categoryGroup","book","fetchBooksByCategory","fetchBookDetails","bookId","createBookItem","createLoadingSkeleton","getFilteredBooks","showLoading","skeletonCount","renderBooks","filteredBooks","booksToShow","loadBooks","updateCategoriesInSidebar","fetchedCategories","categoriesContainer","categoryHTML","btn","handleCategorySelect","handleShowMore","handleLearnMore","bookDetails","openBookModal","link","closeBookModal","changeQuantity","delta","quantityInput","currentValue","newValue","addToCart","quantity","_a","buyNow","toggleAccordion","element","content","icon","item","itemIcon","style","newInitialCount","oldInitialCount","showApiStatus","isWorking","countElement","indicator","testApiConnection","notification","feedbacksSwiper","Swiper","Navigation","Pagination","Keyboard","swiper","keyCode"],"mappings":"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"}