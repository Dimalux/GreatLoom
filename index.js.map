{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/header.js","../src/js/hero.js","../src/js/books.js","../src/js/feedbacks.js","../src/js/events.js","../src/js/footer.js","../src/js/modal-window.js"],"sourcesContent":["import axios from 'axios';\n\n\n// Базовий URL API\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\n\n\n // Запит на список категорій книг \n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}/category-list`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні категорій:', error);\n\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getCategoryList();\n\n\n\n\n// Запит на популярні книги (топ книг) \n\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}/top-books`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні топу книг:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getTopBooks()\n\n\n\n//  Запит на книги певної категорії\n \nexport async function getBooksByCategory(category) {\n  try {\n    const response = await axios.get(`${BASE_URL}/category`, {\n      params: { category },\n    });\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні книг за категорією:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getBooksByCategory(\"Hardcover Fiction\");\n\n\n\n\n//  Запит на детальну інформацію про книгу за ID\n\nexport async function getBookDetails(bookId) {\n  try {\n    const response = await axios.get(`${BASE_URL}/${bookId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні інформації про книгу книги:', error);\n    return null;\n  }\n}\n\n// Для перевірки роботи функції для різних ID\n// getBookDetails('65fc3c9ca957e5c1ae05b6d3');\n\n// getBookDetails('65fc3c9da957e5c1ae05b77c');","const burgerBtn = document.querySelector('.burger-btn');\nconst mobileMenu = document.querySelector('.mobile-menu');\nconst closeBtn = document.querySelector('.close-btn');\nconst mobileLinks = document.querySelectorAll('.mobile-nav-link');\n\nburgerBtn.addEventListener('click', () => {\n  mobileMenu.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n});\n\ncloseBtn.addEventListener('click', () => {\n  mobileMenu.classList.remove('is-open');\n  document.body.style.overflow = '';\n});\n\nmobileLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n});\n","import Swiper from 'swiper';\nimport 'swiper/css';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css/pagination';\n\nconst slides = [\n  {\n    alt: 'A book, sweater and a cup',\n    mob: new URL('../img/hero/slide-1-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-1-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-1-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-1-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-1-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-1-desck@2x.jpg', import.meta.url).href,\n  },\n  {\n    alt: 'A book and glasses',\n    mob: new URL('../img/hero/slide-2-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-2-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-2-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-2-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-2-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-2-desck@2x.jpg', import.meta.url).href,\n  },\n  {\n    alt: 'Bookshelves with lots of books',\n    mob: new URL('../img/hero/slide-3-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-3-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-3-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-3-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-3-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-3-desck@2x.jpg', import.meta.url).href,\n  },\n  {\n    alt: 'A vase with flowers in front of white wall',\n    mob: new URL('../img/hero/slide-4-mob.jpg', import.meta.url).href,\n    mob2x: new URL('../img/hero/slide-4-mob@2x.jpg', import.meta.url).href,\n    tab: new URL('../img/hero/slide-4-tab.jpg', import.meta.url).href,\n    tab2x: new URL('../img/hero/slide-4-tab@2x.jpg', import.meta.url).href,\n    desk: new URL('../img/hero/slide-4-desck.jpg', import.meta.url).href,\n    desk2x: new URL('../img/hero/slide-4-desck@2x.jpg', import.meta.url).href,\n  },\n];\n\nconst overlayTexts = [\n  {\n    subtitle: 'Get 10% off your first order',\n  },\n  {\n    subtitle: 'Save 15% on some books',\n  },\n  {\n    subtitle: 'Summer Sale! Up to -40% discounts',\n  },\n  {\n    subtitle: 'Last chance to buy our spring bestsellers',\n  },\n];\n\nfunction renderSlides(slides) {\n  const container = document.querySelector('#hero-swiper');\n  if (!container) {\n    console.error('[Swiper] Container #hero-swiper not found!');\n    return;\n  }\n\n  const markup = slides\n    .map(\n      slide => `\n        <li class=\"swiper-slide\">\n          <picture>\n            <source srcset=\"${slide.desk} 1x, ${slide.desk2x} 2x\" media=\"(min-width: 1440px)\" />\n            <source srcset=\"${slide.tab} 1x, ${slide.tab2x} 2x\" media=\"(min-width: 768px)\" />\n            <img src=\"${slide.mob}\" srcset=\"${slide.mob2x} 2x\" alt=\"${slide.alt}\" class=\"hero-slide-img\" loading=\"lazy\" />\n          </picture>\n        </li>\n      `\n    )\n    .join('');\n\n  container.innerHTML = markup;\n}\n\nfunction updateButtonsState() {\n  const prev = document.querySelector('.swiper-btn.prev');\n  const next = document.querySelector('.swiper-btn.next');\n\n  if (!swiper || !prev || !next) return;\n\n  prev.disabled = swiper.isBeginning;\n  next.disabled = swiper.isEnd;\n\n  prev.classList.toggle('disabled', swiper.isBeginning);\n  next.classList.toggle('disabled', swiper.isEnd);\n}\n\nfunction updateOverlayText(index) {\n  const subtitleEl = document.querySelector('.hero-subtitle');\n  if (!subtitleEl) return;\n\n  const textData = overlayTexts[index];\n  if (textData) {\n    subtitleEl.textContent = textData.subtitle;\n  }\n}\n\nlet swiper;\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  renderSlides(slides);\n\n  const nextBtn = document.querySelector('.swiper-btn.next');\n  const prevBtn = document.querySelector('.swiper-btn.prev');\n\n  requestAnimationFrame(() => {\n    swiper = new Swiper('.swiper-gallery', {\n      modules: [Navigation, Pagination],\n      slidesPerView: 1,\n      loop: false,\n      allowTouchMove: true,\n      wrapperTag: 'ul',\n      navigation: {\n        nextEl: nextBtn,\n        prevEl: prevBtn,\n      },\n      on: {\n        init: () => {\n          updateButtonsState();\n          updateOverlayText(0); // Показати текст для першого слайду\n        },\n        slideChange: function () {\n          updateButtonsState();\n          updateOverlayText(this.activeIndex);\n        },\n      },\n    });\n  });\n});\n","import {\n  getCategoryList,\n  getTopBooks,\n  getBooksByCategory,\n  getBookDetails,\n} from './api.js';\n\n\n// Application state\nlet currentCategory = 'all';\nlet visibleBooks = window.innerWidth <= 768 ? 10 : 24;\nlet booksPerLoad = 4;\nlet allBooks = [];\nlet categories = [];\nlet isLoading = false;\nlet useBackupData = false;\n\n// Determine initial book count based on screen size\nfunction getInitialBookCount() {\n  return window.innerWidth <= 768 ? 10 : 24;\n}\n\n// DOM elements\nconst bookList = document.getElementById('book-list');\nconst showMoreBtn = document.getElementById('show-more-btn');\nconst showingCount = document.getElementById('showing-count');\nconst totalCount = document.getElementById('total-count');\nconst categoryButtons = document.querySelectorAll('.category-btn');\n\n// Debug logging\nfunction debugLog(message, data = null) {\n  console.log(`[Books App Debug] ${message}`, data || '');\n}\n\n// Fetch categories from API with fallback\nasync function fetchCategories() {\n  try {\n    debugLog('Fetching categories...');\n    const data = await getCategoryList();\n    debugLog('Raw API response for categories:', data);\n    debugLog('Is array?', Array.isArray(data));\n    debugLog('Data length:', data ? data.length : 'null/undefined');\n\n    // Handle different possible response structures\n    let processedCategories = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      debugLog('Processing categories array...');\n\n      // Check if it's an array of category objects with list_name\n      if (data[0] && data[0].list_name) {\n        processedCategories = data.map(category => ({\n          name: category.list_name,\n          displayName: category.list_name,\n        }));\n      }\n      // Check if it's an array of simple strings\n      else if (typeof data[0] === 'string') {\n        processedCategories = data.map(categoryName => ({\n          name: categoryName,\n          displayName: categoryName,\n        }));\n      }\n      // Check if it has name property instead\n      else if (data[0] && data[0].name) {\n        processedCategories = data.map(category => ({\n          name: category.name,\n          displayName: category.display_name || category.name,\n        }));\n      }\n    }\n\n    if (processedCategories.length > 0) {\n      categories = processedCategories;\n      debugLog('Categories loaded from API:', categories);\n      useBackupData = false;\n      return categories;\n    } else {\n      debugLog('No valid categories found in API response, using backup');\n      throw new Error('No valid categories found in API response');\n    }\n  } catch (error) {\n    debugLog('Categories API failed:', error.message);\n    categories = [];\n    useBackupData = true;\n    return categories;\n  }\n}\n\nasync function fetchTopBooks() {\n  try {\n    debugLog('Fetching top books...');\n    const data = await getTopBooks();\n    debugLog('Raw API response for top books:', data);\n    debugLog('Is array?', Array.isArray(data));\n    debugLog('Data length:', data ? data.length : 'null/undefined');\n\n    let books = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      debugLog('Processing array response...');\n\n      if (data[0] && data[0].books && Array.isArray(data[0].books)) {\n        debugLog('Found category groups with books arrays');\n        data.forEach(categoryGroup => {\n          if (categoryGroup.books && Array.isArray(categoryGroup.books)) {\n            books = books.concat(\n              categoryGroup.books.map(book => ({\n                _id: book._id,\n                title: book.title,\n                author: book.author,\n                book_image: book.book_image,\n                list_name: categoryGroup.list_name,\n                description: book.description || '',\n                buy_links: book.buy_links || [],\n              }))\n            );\n          }\n        });\n      }\n      else if (data[0] && (data[0]._id || data[0].id) && data[0].title) {\n        debugLog('Found direct array of books');\n        books = data.map(book => ({\n          _id: book._id || book.id,\n          title: book.title,\n          author: book.author,\n          book_image: book.book_image || book.image,\n          list_name: book.list_name || 'General',\n          description: book.description || '',\n          buy_links: book.buy_links || [],\n        }));\n      } else {\n        debugLog('Unknown array structure:', data[0]);\n      }\n    }\n    else if (data && typeof data === 'object' && !Array.isArray(data)) {\n      debugLog('Processing object response...');\n\n      if (data.books && Array.isArray(data.books)) {\n        debugLog('Found books array in object');\n        books = data.books.map(book => ({\n          _id: book._id || book.id,\n          title: book.title,\n          author: book.author,\n          book_image: book.book_image || book.image,\n          list_name: book.list_name || 'General',\n          description: book.description || '',\n          buy_links: book.buy_links || [],\n        }));\n      }\n      else if (data.title) {\n        debugLog('Found single book object');\n        books = [\n          {\n            _id: data._id || data.id,\n            title: data.title,\n            author: data.author,\n            book_image: data.book_image || data.image,\n            list_name: data.list_name || 'General',\n            description: data.description || '',\n            buy_links: data.buy_links || [],\n          },\n        ];\n      }\n    }\n\n    if (books.length > 0) {\n      debugLog(`Successfully processed ${books.length} books from API`);\n      useBackupData = false;\n      return books;\n    } else {\n      debugLog('No valid books found in API response, using backup');\n      throw new Error('No valid books found in API response');\n    }\n  } catch (error) {\n    debugLog('Top books API failed:', error.message);\n    useBackupData = true;\n    return [];\n  }\n}\n\nasync function fetchBooksByCategory(category) {\n  try {\n    debugLog(`Fetching books for category: ${category}`);\n    const data = await getBooksByCategory(category);\n    debugLog('Raw API response for category books:', data);\n\n    let books = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      books = data.map(book => ({\n        _id: book._id || book.id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image || book.image,\n        list_name: category,\n        description: book.description || '',\n        buy_links: book.buy_links || [],\n      }));\n    } else if (\n      data &&\n      typeof data === 'object' &&\n      data.books &&\n      Array.isArray(data.books)\n    ) {\n      books = data.books.map(book => ({\n        _id: book._id || book.id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image || book.image,\n        list_name: category,\n        description: book.description || '',\n        buy_links: book.buy_links || [],\n      }));\n    }\n\n    if (books.length > 0) {\n      debugLog(`Loaded ${books.length} books for category ${category}`);\n      return books;\n    } else {\n      throw new Error('No books found for category');\n    }\n  } catch (error) {\n    debugLog(\n      `Category books API failed for ${category}, using filtered backup data:`,\n      error.message\n    );\n    return [];\n  }\n}\n\nasync function fetchBookDetails(bookId) {\n  try {\n    debugLog(`Fetching details for book: ${bookId}`);\n    const data = await getBookDetails(bookId);\n\n    if (data && data._id) {\n      debugLog('Book details loaded from API:', data);\n      return data;\n    } else {\n      throw new Error('Invalid book details data');\n    }\n  } catch (error) {\n    debugLog(\n      `Book details API failed for ${bookId}, using backup data:`,\n      error.message\n    );\n    return allBooks.find(book => book._id === bookId) || null;\n  }\n}\n\nfunction createBookItem(book) {\n  const displayPrice = 'Check Price';\n  const imageUrl =\n    book.book_image || 'https://via.placeholder.com/227x323?text=No+Image';\n\n  return `\n    <li class=\"book-item\">\n        <img\n            class=\"book-image\"\n            src=\"${imageUrl}\"\n            alt=\"${book.title} by ${book.author}\"\n            loading=\"lazy\"\n            onerror=\"this.src='https://via.placeholder.com/227x323?text=No+Image'\"\n        />\n        <div class=\"book-content\">\n            <div class=\"book-header\">\n                <div class=\"book-info\">\n                    <h3 class=\"book-title\">${book.title}</h3>\n                    <p class=\"book-author\">${book.author}</p>\n                </div>\n                <div class=\"book-price\">${displayPrice}</div>\n            </div>\n            <button class=\"learn-more-btn\" onclick=\"handleLearnMore('${book._id}')\">\n                Learn More\n            </button>\n        </div>\n    </li>\n  `;\n}\n\nfunction createLoadingSkeleton() {\n  return `\n    <li class=\"book-item\">\n      <div class=\"book-image\" style=\"background: #e0e0e0; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      <div class=\"book-content\">\n        <div class=\"book-header\">\n          <div class=\"book-info\">\n            <div style=\"height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 8px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n            <div style=\"height: 16px; background: #e0e0e0; border-radius: 4px; width: 70%; animation: pulse 1.5s ease-in-out infinite;\"></div>\n          </div>\n          <div style=\"height: 24px; background: #e0e0e0; border-radius: 4px; width: 60px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n        </div>\n        <div style=\"height: 40px; background: #e0e0e0; border-radius: 4px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      </div>\n    </li>\n  `;\n}\n\nfunction getFilteredBooks() {\n  if (currentCategory === 'all') {\n    return allBooks;\n  }\n  return allBooks.filter(book => book.list_name === currentCategory);\n}\n\nfunction showLoading() {\n  isLoading = true;\n  const skeletonCount = window.innerWidth <= 768 ? 10 : 24;\n  bookList.innerHTML = Array(skeletonCount)\n    .fill(createLoadingSkeleton())\n    .join('');\n  showMoreBtn.disabled = true;\n  debugLog('Showing loading state');\n}\n\nfunction renderBooks() {\n  if (isLoading) {\n    debugLog('Still loading, skipping render');\n    return;\n  }\n\n  const filteredBooks = getFilteredBooks();\n  const booksToShow = filteredBooks.slice(0, visibleBooks);\n\n  debugLog(\n    `Rendering ${booksToShow.length} books out of ${filteredBooks.length} total`\n  );\n\n  if (booksToShow.length === 0) {\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">No books found for this category.</li>';\n  } else {\n    bookList.innerHTML = booksToShow.map(book => createBookItem(book)).join('');\n  }\n\n  showingCount.textContent = booksToShow.length;\n  totalCount.textContent = filteredBooks.length;\n\n  if (booksToShow.length >= filteredBooks.length) {\n    showMoreBtn.classList.add('hidden');\n  } else {\n    showMoreBtn.classList.remove('hidden');\n  }\n\n  showMoreBtn.disabled = false;\n}\n\nasync function loadBooks() {\n  debugLog(`Loading books for category: ${currentCategory}`);\n  showLoading();\n\n  try {\n    if (currentCategory === 'all') {\n      allBooks = await fetchTopBooks();\n    } else {\n      allBooks = await fetchBooksByCategory(currentCategory);\n    }\n\n    if (allBooks.length === 0) {\n      throw new Error('No books loaded');\n    }\n\n    isLoading = false;\n    debugLog(`Successfully loaded ${allBooks.length} books`);\n    renderBooks();\n  } catch (error) {\n    debugLog('Error loading books:', error.message);\n    isLoading = false;\n\n    isLoading = false;\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">Unable to load books. Please check your internet connection and try again.</li>';\n    if (showMoreBtn) {\n      showMoreBtn.classList.add('hidden');\n    }\n  }\n}\n\nasync function updateCategoriesInSidebar() {\n  try {\n    debugLog('Updating categories in sidebar');\n    const fetchedCategories = await fetchCategories();\n    const categoriesContainer = document.querySelector('.categories');\n\n    if (!categoriesContainer) {\n      debugLog('Categories container not found');\n      return;\n    }\n\n    const categoryHTML = `\n      <li><button class=\"category-btn active\" data-category=\"all\">All categories</button></li>\n      ${fetchedCategories\n        .map(\n          category =>\n            `<li><button class=\"category-btn\" data-category=\"${category.name}\">${category.displayName}</button></li>`\n        )\n        .join('')}\n    `;\n\n    categoriesContainer.innerHTML = categoryHTML;\n    debugLog('Categories updated in sidebar');\n\n    const newCategoryButtons = document.querySelectorAll('.category-btn');\n    newCategoryButtons.forEach(btn => {\n      btn.addEventListener('click', () => {\n        handleCategorySelect(btn.dataset.category);\n      });\n    });\n  } catch (error) {\n    debugLog('Error updating categories:', error.message);\n  }\n}\n\nasync function handleCategorySelect(category) {\n  if (isLoading) {\n    debugLog('Already loading, ignoring category selection');\n    return;\n  }\n\n  debugLog(`Category selected: ${category}`);\n  currentCategory = category;\n  visibleBooks = getInitialBookCount();\n\n  // Update active button\n  document.querySelectorAll('.category-btn').forEach(btn => {\n    btn.classList.remove('active');\n    if (btn.dataset.category === category) {\n      btn.classList.add('active');\n    }\n  });\n\n  await loadBooks();\n}\n\nfunction handleShowMore() {\n  if (isLoading) return;\n\n  const filteredBooks = getFilteredBooks();\n  visibleBooks = Math.min(visibleBooks + booksPerLoad, filteredBooks.length);\n  debugLog(`Show more clicked, now showing ${visibleBooks} books`);\n  renderBooks();\n}\n\nconst style = document.createElement('style');\nstyle.textContent = `\n  @keyframes pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n  }\n`;\ndocument.head.appendChild(style);\n\n//window.handleLearnMore = handleLearnMore;\n\ndocument.querySelectorAll('.category-btn').forEach(btn => {\n  btn.addEventListener('click', () => {\n    handleCategorySelect(btn.dataset.category);\n  });\n});\n\nif (showMoreBtn) {\n  showMoreBtn.addEventListener('click', handleShowMore);\n}\n\nwindow.addEventListener('resize', () => {\n  const newInitialCount = getInitialBookCount();\n  const oldInitialCount = window.innerWidth <= 768 ? 24 : 10;\n\n  if (visibleBooks === oldInitialCount) {\n    visibleBooks = newInitialCount;\n    renderBooks();\n  }\n});\n\nfunction showApiStatus(isWorking) {\n  const countElement = document.querySelector('.count');\n  if (countElement && useBackupData) {\n    countElement.style.color = '#e15d05';\n    countElement.style.fontWeight = '500';\n    countElement.title =\n      'Using offline data - API server unavailable or blocked by CORS policy';\n\n    if (!countElement.querySelector('.offline-indicator')) {\n      const indicator = document.createElement('span');\n      indicator.className = 'offline-indicator';\n      indicator.innerHTML = ' 🔴';\n      indicator.style.fontSize = '12px';\n      indicator.title = 'Offline mode';\n      countElement.appendChild(indicator);\n    }\n  } else if (countElement) {\n    countElement.style.color = '#0b0500';\n    countElement.style.fontWeight = 'normal';\n    countElement.title = 'Live data from API';\n\n    const indicator = countElement.querySelector('.offline-indicator');\n    if (indicator) {\n      indicator.remove();\n    }\n\n    if (!countElement.querySelector('.online-indicator')) {\n      const indicator = document.createElement('span');\n      indicator.className = 'online-indicator';\n      indicator.innerHTML = ' 🟢';\n      indicator.style.fontSize = '12px';\n      indicator.title = 'Live data';\n      countElement.appendChild(indicator);\n\n      setTimeout(() => {\n        if (indicator.parentNode) {\n          indicator.remove();\n        }\n      }, 3000);\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  debugLog('App initializing...');\n\n  debugLog('Starting with API-only approach...');\n\n  showLoading();\n  debugLog('Showing loading state, attempting API calls...');\n\n  setTimeout(async () => {\n    try {\n      debugLog('Testing API connectivity...');\n\n      const testUrls = [\n        'https://books-backend.p.goit.global/books/category-list',\n        'https://books-backend.p.goit.global/category-list',\n        'https://books-backend.p.goit.global/api/books/category-list',\n        'https://books-backend.p.goit.global/api/category-list',\n      ];\n\n      let response = null;\n      let workingUrl = null;\n\n      for (const testUrl of testUrls) {\n        debugLog('Testing fetch to:', testUrl);\n        try {\n          response = await fetch(testUrl, {\n            method: 'GET',\n            mode: 'cors',\n            headers: {\n              Accept: 'application/json',\n            },\n          });\n\n          if (response.ok) {\n            workingUrl = testUrl;\n            debugLog('Found working URL:', workingUrl);\n            break;\n          }\n        } catch (error) {\n          debugLog(`Failed to fetch ${testUrl}:`, error.message);\n        }\n      }\n\n      if (!workingUrl || !response) {\n        throw new Error('All API endpoints failed - server unreachable');\n      }\n\n      debugLog('Fetch response status:', response.status);\n\n      if (response.ok) {\n        const data = await response.json();\n        debugLog('Direct fetch successful, data:', data);\n\n        debugLog('Direct fetch worked, trying API functions...');\n\n        const categories = await getCategoryList();\n        const books = await getTopBooks();\n\n        debugLog('API functions results:', { categories, books });\n\n        if (Array.isArray(books) && books.length > 0) {\n          debugLog('Processing API books data...');\n\n          let processedBooks = [];\n\n          if (books[0] && books[0].books) {\n            // Handle grouped format\n            books.forEach(group => {\n              if (group.books && Array.isArray(group.books)) {\n                group.books.forEach(book => {\n                  processedBooks.push({\n                    _id: book._id,\n                    title: book.title,\n                    author: book.author,\n                    book_image: book.book_image,\n                    list_name: group.list_name,\n                    description: book.description || '',\n                    buy_links: book.buy_links || [],\n                  });\n                });\n              }\n            });\n          } else if (books[0] && books[0].title) {\n            // Handle direct array format\n            processedBooks = books.map(book => ({\n              _id: book._id,\n              title: book.title,\n              author: book.author,\n              book_image: book.book_image,\n              list_name: book.list_name || 'General',\n              description: book.description || '',\n              buy_links: book.buy_links || [],\n            }));\n          }\n\n          if (processedBooks.length > 0) {\n            debugLog(\n              `Successfully processed ${processedBooks.length} books from API!`\n            );\n            allBooks = processedBooks;\n            useBackupData = false;\n            isLoading = false;\n            renderBooks();\n            showApiStatus(true);\n\n            // Show success notification\n            const notification = document.createElement('div');\n            notification.style.cssText = `\n              position: fixed;\n              top: 20px;\n              right: 20px;\n              background: #28a745;\n              color: white;\n              padding: 12px 16px;\n              border-radius: 4px;\n              font-size: 14px;\n              z-index: 1000;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            `;\n            notification.textContent =\n              'Successfully loaded live data from API! ✓';\n            document.body.appendChild(notification);\n\n            setTimeout(() => {\n              if (notification.parentNode) {\n                notification.remove();\n              }\n            }, 5000);\n          } else {\n            throw new Error('No books processed from API');\n          }\n        } else {\n          throw new Error('No books returned from API');\n        }\n      } else {\n        debugLog('Fetch failed with status:', response.status);\n        throw new Error(`HTTP ${response.status}`);\n      }\n    } catch (error) {\n      debugLog('API failed completely:', error.message);\n\n      isLoading = false;\n      bookList.innerHTML = `\n        <li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">\n          <h3>Unable to load books</h3>\n          <p>API connection failed: ${error.message}</p>\n          <p>Please check your internet connection and try refreshing the page.</p>\n        </li>\n      `;\n      showApiStatus(false);\n\n      const notification = document.createElement('div');\n      notification.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #dc3545;\n        color: white;\n        padding: 12px 16px;\n        border-radius: 4px;\n        font-size: 14px;\n        z-index: 1000;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n      `;\n      notification.textContent = 'API connection failed - no data available';\n      document.body.appendChild(notification);\n\n      setTimeout(() => {\n        if (notification.parentNode) {\n          notification.remove();\n        }\n      }, 8000);\n    }\n  }, 500);\n\n  debugLog('App initialization complete');\n});\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.feedbacks .swiper', {\n    modules: [Navigation, Pagination, Keyboard],\n\n    slidesPerView: 1,\n    spaceBetween: 24,\n    breakpoints: {\n        768: {\n            slidesPerView: 2\n        },\n        1440: {\n            slidesPerView: 3\n        }\n    },\n    navigation: {\n        nextEl: \".feedbacks .swiper-button-next\",\n        prevEl: \".feedbacks .swiper-button-prev\"\n    },\n    pagination: {\n        el: \".feedbacks .swiper-pagination\"\n    },\n    keyboard: {\n        enabled: true\n    }\n});\n\nfeedbacksSwiper.on(\"keyPress\", (swiper, keyCode) => {\n    if (keyCode === 9) {\n        swiper.slideNext();\n    }\n});","const slides = document.querySelectorAll('.events-item');\nconst indicators = document.querySelectorAll('.events-indicator');\nconst prevBtn = document.getElementById('prevBtn');\nconst nextBtn = document.getElementById('nextBtn');\n\n// Змінні для відстеження поточного стану\nlet currentSlide = 0;       // Для мобільних\nlet currentPage = 0;        // Для планшетів\nconst totalSlides = slides.length;\n\n// Функція для оновлення відображення\nfunction updateDisplay() {\n    // Перевіряємо розмір екрану\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        // Логіка для планшетів\n        hideAllSlides();\n        \n        if (currentPage === 0) {\n            // Показуємо перші 2 події\n            slides[0].style.display = 'block';\n            if (slides[1]) slides[1].style.display = 'block';\n        } else {\n            // Показуємо третю подію\n            if (slides[2]) slides[2].style.display = 'block';\n        }\n        \n        updateIndicators(currentPage);\n        updateButtons(currentPage, 1); // Максимум 2 сторінки\n    } else {\n        // Логіка для мобільних\n        hideAllSlides();\n        slides[currentSlide].style.display = 'block';\n        \n        updateIndicators(currentSlide);\n        updateButtons(currentSlide, totalSlides - 1);\n    }\n}\n\n// Функція для приховування всіх слайдів\nfunction hideAllSlides() {\n    slides.forEach(slide => {\n        slide.style.display = 'none';\n    });\n}\n\n// Функція для оновлення індикаторів\nfunction updateIndicators(activeIndex) {\n    indicators.forEach((indicator, index) => {\n        if (index === activeIndex) {\n            indicator.classList.add('active');\n        } else {\n            indicator.classList.remove('active');\n        }\n    });\n}\n\n// Функція для оновлення кнопок\nfunction updateButtons(current, max) {\n    prevBtn.disabled = (current === 0);\n    nextBtn.disabled = (current === max);\n}\n\n// Функція для переходу назад\nfunction goToPrevious() {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        if (currentPage > 0) {\n            currentPage = currentPage - 1;\n            updateDisplay();\n        }\n    } else {\n        if (currentSlide > 0) {\n            currentSlide = currentSlide - 1;\n            updateDisplay();\n        }\n    }\n}\n\n// Функція для переходу вперед\nfunction goToNext() {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        if (currentPage < 1) {\n            currentPage = currentPage + 1;\n            updateDisplay();\n        }\n    } else {\n        if (currentSlide < totalSlides - 1) {\n            currentSlide = currentSlide + 1;\n            updateDisplay();\n        }\n    }\n}\n\n// Функція для переходу до конкретного слайду/сторінки\nfunction goToSpecific(index) {\n    const isTablet = window.innerWidth >= 768;\n    \n    if (isTablet) {\n        currentPage = index;\n    } else {\n        currentSlide = index;\n    }\n    updateDisplay();\n}\n\n// Підключаємо обробники подій\nprevBtn.addEventListener('click', goToPrevious);\nnextBtn.addEventListener('click', goToNext);\n\n// Обробники для індикаторів\nindicators.forEach((indicator, index) => {\n    indicator.addEventListener('click', function() {\n        goToSpecific(index);\n    });\n});\n\n// Навігація клавіатурою\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'ArrowLeft') {\n        goToPrevious();\n    }\n    if (event.key === 'ArrowRight') {\n        goToNext();\n    }\n});\n\n// Обробка зміни розміру вікна\nwindow.addEventListener('resize', updateDisplay);\n\n// Обробники для кнопок Register\ndocument.querySelectorAll('.events-register').forEach(function(button) {\n    button.addEventListener('click', function() {\n        const eventName = this.closest('.events-item').querySelector('.events-name').textContent;\n        openModal(eventName);\n    });\n});\n\n// Функції для модального вікна\nfunction openModal(eventName) {\n    const modal = document.getElementById('contactModal');\n    const eventNameElement = document.getElementById('modalEventName');\n    \n    eventNameElement.textContent = eventName;\n    modal.classList.add('active');\n    document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n    const modal = document.getElementById('contactModal');\n    modal.classList.remove('active');\n    document.body.style.overflow = '';\n    \n    // Очищаємо форму\n    document.getElementById('modalForm').reset();\n}\n\n// Обробники подій для модального вікна\ndocument.getElementById('closeModal').addEventListener('click', closeModal);\n\n// Закриття по кліку на фон\ndocument.getElementById('contactModal').addEventListener('click', function(event) {\n    if (event.target === this) {\n        closeModal();\n    }\n});\n\n// Закриття по Escape\ndocument.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape') {\n        closeModal();\n    }\n});\n\n// Обробка відправки форми\ndocument.getElementById('modalForm').addEventListener('submit', function(event) {\n    event.preventDefault();\n    \n    const formData = new FormData(this);\n    const name = formData.get('name');\n    const email = formData.get('email');\n    const message = formData.get('message');\n    \n    console.log('Form submitted:', { name, email, message });\n    alert('Дякуємо за реєстрацію!');\n    \n    closeModal();\n});\n\n// Запускаємо при завантаженні сторінки\nupdateDisplay();","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Отримуємо форму підписки та поле для вводу e-mail\nconst formElement = document.querySelector('.sub-form');\nconst emailInput = document.querySelector('#user-email');\n\n// Додаємо обробник події на відправку форми\nformElement.addEventListener('submit', processFormSubmission);\n\nfunction processFormSubmission(e) {\n  e.preventDefault();\n\n  const enteredEmail = emailInput.value.trim();\n  const isEmailValid = validateEmailFormat(enteredEmail);\n\n  // Перевірка коректності e-mail\n  if (!isEmailValid) {\n    showToast('error', 'Invalid Input', 'Please provide a valid email address');\n    return;\n  }\n\n  const existingEmails = getStoredEmails();\n\n  // Перевірка на те чи вже підписаний користувач\n  if (isEmailRegistered(existingEmails, enteredEmail)) {\n    showToast('warning', 'Already Subscribed', 'This email is already on the list');\n    resetForm();\n    return;\n  }\n\n  // Додаємо нову адресу до списку та зберігаємо\n  storeEmail(existingEmails, enteredEmail);\n  showToast('success', 'Subscribed', 'You have successfully joined the list');\n  resetForm();\n}\n\n// Валідація e-mail за допомогою регулярного виразу\nfunction validateEmailFormat(email) {\n  const pattern = /^\\w+(\\.\\w+)?@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$/;\n  return pattern.test(email);\n}\n\n// Отримуємо збережені e-mail з localStorage\nfunction getStoredEmails() {\n  const data = localStorage.getItem('subscriptionList');\n  return data ? JSON.parse(data) : [];\n}\n\n// Перевірка на те чи e-mail вже є у списку\nfunction isEmailRegistered(list, email) {\n  return list.includes(email);\n}\n\n// Додаємо новий e-mail до списку та оновлюємо localStorage\nfunction storeEmail(list, email) {\n  list.push(email);\n  localStorage.setItem('subscriptionList', JSON.stringify(list));\n}\n\n// Відображення сповіщення за допомогою iziToast\nfunction showToast(type, title, msg) {\n  iziToast[type]({\n    title: title,\n    message: msg,\n    position: 'topRight',\n  });\n}\n\n// Скидаємо значення форми після обробки\nfunction resetForm() {\n  formElement.reset();\n}","import Accordion from 'accordion-js';\nimport 'accordion-js/dist/accordion.min.css';\nimport { getBookDetails } from './api';\nimport '../css/modal-window.css';\n\n// console.log('Modal script подключился!');\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const backdrop = document.querySelector('.modal-backdrop');\n  const quantityEl = document.getElementById('quantity');\n  const closeBtn = document.querySelector('.modal-close');\n\n  let currentQuantity = 1;\n\n  if (!backdrop || !quantityEl || !closeBtn) {\n    console.warn('Элементы модалки не найдены');\n    return;\n  }\n\n  // Делегирование для любых кнопок внутри страницы с data-id\n  document.addEventListener('click', e => {\n    const btn = e.target.closest('[data-id]');\n    if (!btn) return;\n\n    const bookId = btn.dataset.id;\n    // console.log('Клик по кнопке с id:', bookId);\n    if (bookId) openModal(bookId);\n  });\n\n  // Клик по затемнению или крестику — закрыть модалку\n  backdrop.addEventListener('click', e => {\n    if (\n      e.target.classList.contains('modal-backdrop') ||\n      e.target.closest('.modal-close')\n    ) {\n      closeModal();\n    }\n  });\n\n  // Закрытие по Esc\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') closeModal();\n  });\n\n  // Управление количеством\n  document.addEventListener('click', e => {\n    if (e.target.classList.contains('decrement')) decreaseQuantity();\n    if (e.target.classList.contains('increment')) increaseQuantity();\n    if (e.target.classList.contains('add-to-cart')) addToCart();\n    if (e.target.classList.contains('buy-now')) buyNow(e);\n  });\n\n  // убираем баг с дублированием аккордеонов при открытии\n  let accordionInstance = null;\n\n  async function openModal(bookId) {\n    const data = await getBookDetails(bookId);\n    if (!data) {\n      console.warn('Нет данных по книге');\n      return;\n    }\n\n    document.getElementById('modal-title').textContent = data.title;\n    document.getElementById('modal-author').textContent = data.author;\n    document.getElementById('modal-price').textContent = `$${data.price}`;\n    document.getElementById('modal-book-image').src = data.book_image;\n    document.getElementById('modal-book-image').alt = data.title;\n    document.getElementById('details-text').textContent =\n      data.description || 'No description';\n    document.getElementById('shipping-text').textContent =\n      'We ship across the United States within 2–5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.';\n    document.getElementById('returns-text').textContent =\n      'You can return an item within 14 days of receiving your order, provided it hasn’t been used and is in its original condition. To start a return, please contact our support team — we’ll guide you through the process quickly and hassle-free.';\n\n    quantityEl.textContent = 1;\n    currentQuantity = 1;\n\n    backdrop.classList.remove('is-hidden');\n    document.body.style.overflow = 'hidden';\n\n    // Если аккордеон уже существует — уничтожаем\n    if (accordionInstance) {\n      accordionInstance.destroy();\n\n      // Жёсткий сброс инлайн-стилей\n      document.querySelectorAll('.ac-panel').forEach(panel => {\n        panel.style.height = '';\n        panel.style.display = '';\n      });\n    }\n\n    // Создаём новый аккордеон и сохраняем в переменную\n    accordionInstance = new Accordion('#accordion', {\n      duration: 300,\n      showMultiple: true,\n      openOnInit: [0],\n    });\n  }\n\n  function closeModal() {\n    backdrop.classList.add('is-hidden');\n    document.body.style.overflow = '';\n    // Уничтожаем аккордеон и чистим стили при закрытии\n    if (accordionInstance) {\n      accordionInstance.destroy();\n      accordionInstance = null;\n\n      document.querySelectorAll('.ac-panel').forEach(panel => {\n        panel.style.height = '';\n        panel.style.display = '';\n      });\n    }\n  }\n\n  function increaseQuantity() {\n    currentQuantity++;\n    quantityEl.textContent = currentQuantity;\n  }\n\n  function decreaseQuantity() {\n    if (currentQuantity > 1) {\n      currentQuantity--;\n      quantityEl.textContent = currentQuantity;\n    }\n  }\n\n  function addToCart() {\n    console.log(`Додано у корзину: ${currentQuantity} шт.`);\n  }\n\n  function buyNow(e) {\n    e.preventDefault();\n    alert('Дякуємо за покупку');\n  }\n});\n"],"names":["BASE_URL","getCategoryList","response","axios","error","getTopBooks","getBooksByCategory","category","getBookDetails","bookId","burgerBtn","mobileMenu","closeBtn","mobileLinks","link","slides","overlayTexts","renderSlides","container","markup","slide","updateButtonsState","prev","next","swiper","updateOverlayText","index","subtitleEl","textData","nextBtn","prevBtn","Swiper","Navigation","Pagination","currentCategory","visibleBooks","booksPerLoad","allBooks","isLoading","useBackupData","getInitialBookCount","bookList","showMoreBtn","showingCount","totalCount","debugLog","message","data","fetchTopBooks","books","categoryGroup","book","fetchBooksByCategory","createBookItem","createLoadingSkeleton","getFilteredBooks","showLoading","skeletonCount","renderBooks","filteredBooks","booksToShow","loadBooks","handleCategorySelect","btn","handleShowMore","style","newInitialCount","oldInitialCount","showApiStatus","isWorking","countElement","indicator","testUrls","workingUrl","testUrl","categories","processedBooks","group","notification","feedbacksSwiper","Keyboard","keyCode","indicators","currentSlide","currentPage","totalSlides","updateDisplay","hideAllSlides","updateIndicators","updateButtons","activeIndex","current","max","goToPrevious","goToNext","goToSpecific","event","button","eventName","openModal","modal","eventNameElement","closeModal","formData","name","email","formElement","emailInput","processFormSubmission","enteredEmail","validateEmailFormat","showToast","existingEmails","getStoredEmails","isEmailRegistered","resetForm","storeEmail","list","type","title","msg","iziToast","backdrop","quantityEl","currentQuantity","e","decreaseQuantity","increaseQuantity","addToCart","buyNow","accordionInstance","panel","Accordion"],"mappings":"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"}