{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/header.js","../src/js/books.js","../src/js/feedbacks.js"],"sourcesContent":["import axios from 'axios';\n\n\n// Базовий URL API\nconst BASE_URL = 'https://books-backend.p.goit.global/books';\n\n\n // Запит на список категорій книг \n\nexport async function getCategoryList() {\n  try {\n    const response = await axios.get(`${BASE_URL}/category-list`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні категорій:', error);\n\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getCategoryList();\n\n\n\n\n// Запит на популярні книги (топ книг) \n\nexport async function getTopBooks() {\n  try {\n    const response = await axios.get(`${BASE_URL}/top-books`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні топу книг:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getTopBooks()\n\n\n\n//  Запит на книги певної категорії\n \nexport async function getBooksByCategory(category) {\n  try {\n    const response = await axios.get(`${BASE_URL}/category`, {\n      params: { category },\n    });\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні книг за категорією:', error);\n    return [];\n  }\n}\n\n// Для перевірки роботи функції\n// getBooksByCategory(\"Hardcover Fiction\");\n\n\n\n\n//  Запит на детальну інформацію про книгу за ID\n\nexport async function getBookDetails(bookId) {\n  try {\n    const response = await axios.get(`${BASE_URL}/${bookId}`);\n    console.log(response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Помилка при отриманні інформації про книгу книги:', error);\n    return null;\n  }\n}\n\n// Для перевірки роботи функції для різних ID\n// getBookDetails('65fc3c9ca957e5c1ae05b6d3');\n\n// getBookDetails('65fc3c9da957e5c1ae05b77c');","document.addEventListener('DOMContentLoaded', function () {\n  const menuButton = document.querySelector('.menu-button');\n  const closeButton = document.querySelector('.close-button');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const checkboxes = document.querySelectorAll('.custom-checkbox');\n\n  // Toggle mobile menu\n  menuButton.addEventListener('click', function () {\n    mobileMenu.classList.toggle('open');\n  });\n\n  // Close mobile menu\n  closeButton.addEventListener('click', function () {\n    mobileMenu.classList.remove('open');\n  });\n\n  // Toggle checkboxes\n  checkboxes.forEach(checkbox => {\n    checkbox.addEventListener('click', function (e) {\n      e.stopPropagation();\n      this.classList.toggle('checked');\n    });\n  });\n\n  // Close modal when clicking outside\n  document.addEventListener('click', function (event) {\n    if (!mobileMenu.contains(event.target) && event.target !== menuButton) {\n      mobileMenu.classList.remove('open');\n    }\n  });\n});\n","import {\n  getCategoryList,\n  getTopBooks,\n  getBooksByCategory,\n  getBookDetails,\n} from './api.js';\n\n\n// Application state\nlet currentCategory = 'all';\nlet visibleBooks = window.innerWidth <= 768 ? 10 : 24;\nlet booksPerLoad = 4;\nlet allBooks = [];\nlet categories = [];\nlet isLoading = false;\nlet useBackupData = false;\n\n// Determine initial book count based on screen size\nfunction getInitialBookCount() {\n  return window.innerWidth <= 768 ? 10 : 24;\n}\n\n// DOM elements\nconst bookList = document.getElementById('book-list');\nconst showMoreBtn = document.getElementById('show-more-btn');\nconst showingCount = document.getElementById('showing-count');\nconst totalCount = document.getElementById('total-count');\nconst categoryButtons = document.querySelectorAll('.category-btn');\n\n// Debug logging\nfunction debugLog(message, data = null) {\n  console.log(`[Books App Debug] ${message}`, data || '');\n}\n\n// Fetch categories from API with fallback\nasync function fetchCategories() {\n  try {\n    debugLog('Fetching categories...');\n    const data = await getCategoryList();\n    debugLog('Raw API response for categories:', data);\n    debugLog('Is array?', Array.isArray(data));\n    debugLog('Data length:', data ? data.length : 'null/undefined');\n\n    // Handle different possible response structures\n    let processedCategories = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      debugLog('Processing categories array...');\n\n      // Check if it's an array of category objects with list_name\n      if (data[0] && data[0].list_name) {\n        processedCategories = data.map(category => ({\n          name: category.list_name,\n          displayName: category.list_name,\n        }));\n      }\n      // Check if it's an array of simple strings\n      else if (typeof data[0] === 'string') {\n        processedCategories = data.map(categoryName => ({\n          name: categoryName,\n          displayName: categoryName,\n        }));\n      }\n      // Check if it has name property instead\n      else if (data[0] && data[0].name) {\n        processedCategories = data.map(category => ({\n          name: category.name,\n          displayName: category.display_name || category.name,\n        }));\n      }\n    }\n\n    if (processedCategories.length > 0) {\n      categories = processedCategories;\n      debugLog('Categories loaded from API:', categories);\n      useBackupData = false;\n      return categories;\n    } else {\n      debugLog('No valid categories found in API response, using backup');\n      throw new Error('No valid categories found in API response');\n    }\n  } catch (error) {\n    debugLog('Categories API failed:', error.message);\n    categories = [];\n    useBackupData = true;\n    return categories;\n  }\n}\n\nasync function fetchTopBooks() {\n  try {\n    debugLog('Fetching top books...');\n    const data = await getTopBooks();\n    debugLog('Raw API response for top books:', data);\n    debugLog('Is array?', Array.isArray(data));\n    debugLog('Data length:', data ? data.length : 'null/undefined');\n\n    let books = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      debugLog('Processing array response...');\n\n      if (data[0] && data[0].books && Array.isArray(data[0].books)) {\n        debugLog('Found category groups with books arrays');\n        data.forEach(categoryGroup => {\n          if (categoryGroup.books && Array.isArray(categoryGroup.books)) {\n            books = books.concat(\n              categoryGroup.books.map(book => ({\n                _id: book._id,\n                title: book.title,\n                author: book.author,\n                book_image: book.book_image,\n                list_name: categoryGroup.list_name,\n                description: book.description || '',\n                buy_links: book.buy_links || [],\n              }))\n            );\n          }\n        });\n      }\n      else if (data[0] && (data[0]._id || data[0].id) && data[0].title) {\n        debugLog('Found direct array of books');\n        books = data.map(book => ({\n          _id: book._id || book.id,\n          title: book.title,\n          author: book.author,\n          book_image: book.book_image || book.image,\n          list_name: book.list_name || 'General',\n          description: book.description || '',\n          buy_links: book.buy_links || [],\n        }));\n      } else {\n        debugLog('Unknown array structure:', data[0]);\n      }\n    }\n    else if (data && typeof data === 'object' && !Array.isArray(data)) {\n      debugLog('Processing object response...');\n\n      if (data.books && Array.isArray(data.books)) {\n        debugLog('Found books array in object');\n        books = data.books.map(book => ({\n          _id: book._id || book.id,\n          title: book.title,\n          author: book.author,\n          book_image: book.book_image || book.image,\n          list_name: book.list_name || 'General',\n          description: book.description || '',\n          buy_links: book.buy_links || [],\n        }));\n      }\n      else if (data.title) {\n        debugLog('Found single book object');\n        books = [\n          {\n            _id: data._id || data.id,\n            title: data.title,\n            author: data.author,\n            book_image: data.book_image || data.image,\n            list_name: data.list_name || 'General',\n            description: data.description || '',\n            buy_links: data.buy_links || [],\n          },\n        ];\n      }\n    }\n\n    if (books.length > 0) {\n      debugLog(`Successfully processed ${books.length} books from API`);\n      useBackupData = false;\n      return books;\n    } else {\n      debugLog('No valid books found in API response, using backup');\n      throw new Error('No valid books found in API response');\n    }\n  } catch (error) {\n    debugLog('Top books API failed:', error.message);\n    useBackupData = true;\n    return [];\n  }\n}\n\nasync function fetchBooksByCategory(category) {\n  try {\n    debugLog(`Fetching books for category: ${category}`);\n    const data = await getBooksByCategory(category);\n    debugLog('Raw API response for category books:', data);\n\n    let books = [];\n\n    if (Array.isArray(data) && data.length > 0) {\n      books = data.map(book => ({\n        _id: book._id || book.id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image || book.image,\n        list_name: category,\n        description: book.description || '',\n        buy_links: book.buy_links || [],\n      }));\n    } else if (\n      data &&\n      typeof data === 'object' &&\n      data.books &&\n      Array.isArray(data.books)\n    ) {\n      books = data.books.map(book => ({\n        _id: book._id || book.id,\n        title: book.title,\n        author: book.author,\n        book_image: book.book_image || book.image,\n        list_name: category,\n        description: book.description || '',\n        buy_links: book.buy_links || [],\n      }));\n    }\n\n    if (books.length > 0) {\n      debugLog(`Loaded ${books.length} books for category ${category}`);\n      return books;\n    } else {\n      throw new Error('No books found for category');\n    }\n  } catch (error) {\n    debugLog(\n      `Category books API failed for ${category}, using filtered backup data:`,\n      error.message\n    );\n    return [];\n  }\n}\n\nasync function fetchBookDetails(bookId) {\n  try {\n    debugLog(`Fetching details for book: ${bookId}`);\n    const data = await getBookDetails(bookId);\n\n    if (data && data._id) {\n      debugLog('Book details loaded from API:', data);\n      return data;\n    } else {\n      throw new Error('Invalid book details data');\n    }\n  } catch (error) {\n    debugLog(\n      `Book details API failed for ${bookId}, using backup data:`,\n      error.message\n    );\n    return allBooks.find(book => book._id === bookId) || null;\n  }\n}\n\nfunction createBookItem(book) {\n  const displayPrice = 'Check Price';\n  const imageUrl =\n    book.book_image || 'https://via.placeholder.com/227x323?text=No+Image';\n\n  return `\n    <li class=\"book-item\">\n        <img\n            class=\"book-image\"\n            src=\"${imageUrl}\"\n            alt=\"${book.title} by ${book.author}\"\n            loading=\"lazy\"\n            onerror=\"this.src='https://via.placeholder.com/227x323?text=No+Image'\"\n        />\n        <div class=\"book-content\">\n            <div class=\"book-header\">\n                <div class=\"book-info\">\n                    <h3 class=\"book-title\">${book.title}</h3>\n                    <p class=\"book-author\">${book.author}</p>\n                </div>\n                <div class=\"book-price\">${displayPrice}</div>\n            </div>\n            <button class=\"learn-more-btn\" onclick=\"handleLearnMore('${book._id}')\">\n                Learn More\n            </button>\n        </div>\n    </li>\n  `;\n}\n\nfunction createLoadingSkeleton() {\n  return `\n    <li class=\"book-item\">\n      <div class=\"book-image\" style=\"background: #e0e0e0; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      <div class=\"book-content\">\n        <div class=\"book-header\">\n          <div class=\"book-info\">\n            <div style=\"height: 20px; background: #e0e0e0; border-radius: 4px; margin-bottom: 8px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n            <div style=\"height: 16px; background: #e0e0e0; border-radius: 4px; width: 70%; animation: pulse 1.5s ease-in-out infinite;\"></div>\n          </div>\n          <div style=\"height: 24px; background: #e0e0e0; border-radius: 4px; width: 60px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n        </div>\n        <div style=\"height: 40px; background: #e0e0e0; border-radius: 4px; animation: pulse 1.5s ease-in-out infinite;\"></div>\n      </div>\n    </li>\n  `;\n}\n\nfunction getFilteredBooks() {\n  if (currentCategory === 'all') {\n    return allBooks;\n  }\n  return allBooks.filter(book => book.list_name === currentCategory);\n}\n\nfunction showLoading() {\n  isLoading = true;\n  const skeletonCount = window.innerWidth <= 768 ? 10 : 24;\n  bookList.innerHTML = Array(skeletonCount)\n    .fill(createLoadingSkeleton())\n    .join('');\n  showMoreBtn.disabled = true;\n  debugLog('Showing loading state');\n}\n\nfunction renderBooks() {\n  if (isLoading) {\n    debugLog('Still loading, skipping render');\n    return;\n  }\n\n  const filteredBooks = getFilteredBooks();\n  const booksToShow = filteredBooks.slice(0, visibleBooks);\n\n  debugLog(\n    `Rendering ${booksToShow.length} books out of ${filteredBooks.length} total`\n  );\n\n  if (booksToShow.length === 0) {\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">No books found for this category.</li>';\n  } else {\n    bookList.innerHTML = booksToShow.map(book => createBookItem(book)).join('');\n  }\n\n  showingCount.textContent = booksToShow.length;\n  totalCount.textContent = filteredBooks.length;\n\n  if (booksToShow.length >= filteredBooks.length) {\n    showMoreBtn.classList.add('hidden');\n  } else {\n    showMoreBtn.classList.remove('hidden');\n  }\n\n  showMoreBtn.disabled = false;\n}\n\nasync function loadBooks() {\n  debugLog(`Loading books for category: ${currentCategory}`);\n  showLoading();\n\n  try {\n    if (currentCategory === 'all') {\n      allBooks = await fetchTopBooks();\n    } else {\n      allBooks = await fetchBooksByCategory(currentCategory);\n    }\n\n    if (allBooks.length === 0) {\n      throw new Error('No books loaded');\n    }\n\n    isLoading = false;\n    debugLog(`Successfully loaded ${allBooks.length} books`);\n    renderBooks();\n  } catch (error) {\n    debugLog('Error loading books:', error.message);\n    isLoading = false;\n\n    isLoading = false;\n    bookList.innerHTML =\n      '<li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">Unable to load books. Please check your internet connection and try again.</li>';\n    if (showMoreBtn) {\n      showMoreBtn.classList.add('hidden');\n    }\n  }\n}\n\nasync function updateCategoriesInSidebar() {\n  try {\n    debugLog('Updating categories in sidebar');\n    const fetchedCategories = await fetchCategories();\n    const categoriesContainer = document.querySelector('.categories');\n\n    if (!categoriesContainer) {\n      debugLog('Categories container not found');\n      return;\n    }\n\n    const categoryHTML = `\n      <li><button class=\"category-btn active\" data-category=\"all\">All categories</button></li>\n      ${fetchedCategories\n        .map(\n          category =>\n            `<li><button class=\"category-btn\" data-category=\"${category.name}\">${category.displayName}</button></li>`\n        )\n        .join('')}\n    `;\n\n    categoriesContainer.innerHTML = categoryHTML;\n    debugLog('Categories updated in sidebar');\n\n    const newCategoryButtons = document.querySelectorAll('.category-btn');\n    newCategoryButtons.forEach(btn => {\n      btn.addEventListener('click', () => {\n        handleCategorySelect(btn.dataset.category);\n      });\n    });\n  } catch (error) {\n    debugLog('Error updating categories:', error.message);\n  }\n}\n\nasync function handleCategorySelect(category) {\n  if (isLoading) {\n    debugLog('Already loading, ignoring category selection');\n    return;\n  }\n\n  debugLog(`Category selected: ${category}`);\n  currentCategory = category;\n  visibleBooks = getInitialBookCount();\n\n  // Update active button\n  document.querySelectorAll('.category-btn').forEach(btn => {\n    btn.classList.remove('active');\n    if (btn.dataset.category === category) {\n      btn.classList.add('active');\n    }\n  });\n\n  await loadBooks();\n}\n\nfunction handleShowMore() {\n  if (isLoading) return;\n\n  const filteredBooks = getFilteredBooks();\n  visibleBooks = Math.min(visibleBooks + booksPerLoad, filteredBooks.length);\n  debugLog(`Show more clicked, now showing ${visibleBooks} books`);\n  renderBooks();\n}\n\nconst style = document.createElement('style');\nstyle.textContent = `\n  @keyframes pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n  }\n`;\ndocument.head.appendChild(style);\n\n//window.handleLearnMore = handleLearnMore;\n\ndocument.querySelectorAll('.category-btn').forEach(btn => {\n  btn.addEventListener('click', () => {\n    handleCategorySelect(btn.dataset.category);\n  });\n});\n\nif (showMoreBtn) {\n  showMoreBtn.addEventListener('click', handleShowMore);\n}\n\nwindow.addEventListener('resize', () => {\n  const newInitialCount = getInitialBookCount();\n  const oldInitialCount = window.innerWidth <= 768 ? 24 : 10;\n\n  if (visibleBooks === oldInitialCount) {\n    visibleBooks = newInitialCount;\n    renderBooks();\n  }\n});\n\nfunction showApiStatus(isWorking) {\n  const countElement = document.querySelector('.count');\n  if (countElement && useBackupData) {\n    countElement.style.color = '#e15d05';\n    countElement.style.fontWeight = '500';\n    countElement.title =\n      'Using offline data - API server unavailable or blocked by CORS policy';\n\n    if (!countElement.querySelector('.offline-indicator')) {\n      const indicator = document.createElement('span');\n      indicator.className = 'offline-indicator';\n      indicator.innerHTML = ' 🔴';\n      indicator.style.fontSize = '12px';\n      indicator.title = 'Offline mode';\n      countElement.appendChild(indicator);\n    }\n  } else if (countElement) {\n    countElement.style.color = '#0b0500';\n    countElement.style.fontWeight = 'normal';\n    countElement.title = 'Live data from API';\n\n    const indicator = countElement.querySelector('.offline-indicator');\n    if (indicator) {\n      indicator.remove();\n    }\n\n    if (!countElement.querySelector('.online-indicator')) {\n      const indicator = document.createElement('span');\n      indicator.className = 'online-indicator';\n      indicator.innerHTML = ' 🟢';\n      indicator.style.fontSize = '12px';\n      indicator.title = 'Live data';\n      countElement.appendChild(indicator);\n\n      setTimeout(() => {\n        if (indicator.parentNode) {\n          indicator.remove();\n        }\n      }, 3000);\n    }\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  debugLog('App initializing...');\n\n  debugLog('Starting with API-only approach...');\n\n  showLoading();\n  debugLog('Showing loading state, attempting API calls...');\n\n  setTimeout(async () => {\n    try {\n      debugLog('Testing API connectivity...');\n\n      const testUrls = [\n        'https://books-backend.p.goit.global/books/category-list',\n        'https://books-backend.p.goit.global/category-list',\n        'https://books-backend.p.goit.global/api/books/category-list',\n        'https://books-backend.p.goit.global/api/category-list',\n      ];\n\n      let response = null;\n      let workingUrl = null;\n\n      for (const testUrl of testUrls) {\n        debugLog('Testing fetch to:', testUrl);\n        try {\n          response = await fetch(testUrl, {\n            method: 'GET',\n            mode: 'cors',\n            headers: {\n              Accept: 'application/json',\n            },\n          });\n\n          if (response.ok) {\n            workingUrl = testUrl;\n            debugLog('Found working URL:', workingUrl);\n            break;\n          }\n        } catch (error) {\n          debugLog(`Failed to fetch ${testUrl}:`, error.message);\n        }\n      }\n\n      if (!workingUrl || !response) {\n        throw new Error('All API endpoints failed - server unreachable');\n      }\n\n      debugLog('Fetch response status:', response.status);\n\n      if (response.ok) {\n        const data = await response.json();\n        debugLog('Direct fetch successful, data:', data);\n\n        debugLog('Direct fetch worked, trying API functions...');\n\n        const categories = await getCategoryList();\n        const books = await getTopBooks();\n\n        debugLog('API functions results:', { categories, books });\n\n        if (Array.isArray(books) && books.length > 0) {\n          debugLog('Processing API books data...');\n\n          let processedBooks = [];\n\n          if (books[0] && books[0].books) {\n            // Handle grouped format\n            books.forEach(group => {\n              if (group.books && Array.isArray(group.books)) {\n                group.books.forEach(book => {\n                  processedBooks.push({\n                    _id: book._id,\n                    title: book.title,\n                    author: book.author,\n                    book_image: book.book_image,\n                    list_name: group.list_name,\n                    description: book.description || '',\n                    buy_links: book.buy_links || [],\n                  });\n                });\n              }\n            });\n          } else if (books[0] && books[0].title) {\n            // Handle direct array format\n            processedBooks = books.map(book => ({\n              _id: book._id,\n              title: book.title,\n              author: book.author,\n              book_image: book.book_image,\n              list_name: book.list_name || 'General',\n              description: book.description || '',\n              buy_links: book.buy_links || [],\n            }));\n          }\n\n          if (processedBooks.length > 0) {\n            debugLog(\n              `Successfully processed ${processedBooks.length} books from API!`\n            );\n            allBooks = processedBooks;\n            useBackupData = false;\n            isLoading = false;\n            renderBooks();\n            showApiStatus(true);\n\n            // Show success notification\n            const notification = document.createElement('div');\n            notification.style.cssText = `\n              position: fixed;\n              top: 20px;\n              right: 20px;\n              background: #28a745;\n              color: white;\n              padding: 12px 16px;\n              border-radius: 4px;\n              font-size: 14px;\n              z-index: 1000;\n              box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n            `;\n            notification.textContent =\n              'Successfully loaded live data from API! ✓';\n            document.body.appendChild(notification);\n\n            setTimeout(() => {\n              if (notification.parentNode) {\n                notification.remove();\n              }\n            }, 5000);\n          } else {\n            throw new Error('No books processed from API');\n          }\n        } else {\n          throw new Error('No books returned from API');\n        }\n      } else {\n        debugLog('Fetch failed with status:', response.status);\n        throw new Error(`HTTP ${response.status}`);\n      }\n    } catch (error) {\n      debugLog('API failed completely:', error.message);\n\n      isLoading = false;\n      bookList.innerHTML = `\n        <li style=\"grid-column: 1/-1; text-align: center; padding: 40px; color: #0b0500;\">\n          <h3>Unable to load books</h3>\n          <p>API connection failed: ${error.message}</p>\n          <p>Please check your internet connection and try refreshing the page.</p>\n        </li>\n      `;\n      showApiStatus(false);\n\n      const notification = document.createElement('div');\n      notification.style.cssText = `\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: #dc3545;\n        color: white;\n        padding: 12px 16px;\n        border-radius: 4px;\n        font-size: 14px;\n        z-index: 1000;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n      `;\n      notification.textContent = 'API connection failed - no data available';\n      document.body.appendChild(notification);\n\n      setTimeout(() => {\n        if (notification.parentNode) {\n          notification.remove();\n        }\n      }, 8000);\n    }\n  }, 500);\n\n  debugLog('App initialization complete');\n});\n","import Swiper from 'swiper';\nimport { Navigation, Pagination, Keyboard } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/pagination';\n\nconst feedbacksSwiper = new Swiper('.feedbacks .swiper', {\n    modules: [Navigation, Pagination, Keyboard],\n\n    slidesPerView: 1,\n    spaceBetween: 24,\n    breakpoints: {\n        768: {\n            slidesPerView: 2\n        },\n        1440: {\n            slidesPerView: 3\n        }\n    },\n    navigation: {\n        nextEl: \".feedbacks .swiper-button-next\",\n        prevEl: \".feedbacks .swiper-button-prev\"\n    },\n    pagination: {\n        el: \".feedbacks .swiper-pagination\"\n    },\n    keyboard: {\n        enabled: true\n    }\n});\n\nfeedbacksSwiper.on(\"keyPress\", (swiper, keyCode) => {\n    if (keyCode === 9) {\n        swiper.slideNext();\n    }\n});"],"names":["BASE_URL","getCategoryList","response","axios","error","getTopBooks","getBooksByCategory","category","menuButton","closeButton","mobileMenu","checkboxes","checkbox","e","event","currentCategory","visibleBooks","booksPerLoad","allBooks","isLoading","useBackupData","getInitialBookCount","bookList","showMoreBtn","showingCount","totalCount","debugLog","message","data","fetchTopBooks","books","categoryGroup","book","fetchBooksByCategory","createBookItem","createLoadingSkeleton","getFilteredBooks","showLoading","skeletonCount","renderBooks","filteredBooks","booksToShow","loadBooks","handleCategorySelect","btn","handleShowMore","style","newInitialCount","oldInitialCount","showApiStatus","isWorking","countElement","indicator","testUrls","workingUrl","testUrl","categories","processedBooks","group","notification","feedbacksSwiper","Swiper","Navigation","Pagination","Keyboard","swiper","keyCode"],"mappings":"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"}